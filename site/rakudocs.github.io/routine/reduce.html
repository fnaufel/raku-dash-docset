<!doctype html>
<html lang="en">
<head>
    <title>routine reduce</title>
    <meta charset="UTF-8"/>
    <meta name=viewport content="width=device-width, initial-scale=1">
    <link rel="icon" href="../favicon.ico" type="image/x-icon" />
    <link rel="stylesheet" type="text/css" href="../css/app.css" media="screen" title="default" />
    <noscript> <style> #search { visibility: hidden; } </style> </noscript>
</head>

<body class="pod">

    <div id="___top"></div>

    <div id="header" class="pretty-box green">

        <a href="../index.html">
            <img src="../images/Camelia.svg" alt="»ö«" id="logo" width="62" height="48"/> &nbsp;Raku Documentation
        </a>

        <div id="search" class="ui-widget">
            <div class="green">
                <input placeholder="Loading..." id="query" accesskey="f" title="Enter term to search for (hit Esc to focus)"/>
            </div>
            <p id="not-found-message">
                Not in Index (<a href="reduce.html" id="try-web-search">try site search</a>)
            </p>
        </div>

        <div class="menu">

            <div class="menu-items dark-green">
                <a class='menu-item darker-green' href='https://raku.org'><strong>Raku homepage</strong></a>
                    <a class="menu-item " href="../language.html"> Language </a>
                    <a class="menu-item " href="../type.html"> Types </a>
                    <a class="menu-item selected darker-green" href="../routine.html"> Routines </a>
                    <a class="menu-item " href="../programs.html"> Programs </a>
                    <a class="menu-item " href="https://web.libera.chat/?channel=#raku"> Chat with us </a>
            </div>

            <div class="menu-items darker-green"><div class="menu-items darker-green"><div class="menu-items darker-green"><div class="menu-items darker-green"><div class="menu-items darker-green"><div class="menu-items darker-green"><div class="menu-items darker-green">
                    <a class="menu-item" href="../routine.html"> All </a>
                    <a class="menu-item" href="../routine-sub.html"> Sub </a>
                    <a class="menu-item" href="../routine-method.html"> Method </a>
                    <a class="menu-item" href="../routine-term.html"> Term </a>
                    <a class="menu-item" href="../routine-operator.html"> Operator </a>
                    <a class="menu-item" href="../routine-trait.html"> Trait </a>
                    <a class="menu-item" href="../routine-submethod.html"> Submethod </a>
            </div></div></div></div></div></div></div>

        </div>
    </div>

    <div id="content" class="pretty-box yellow content_fragment">

        <div align="right" style="display:none;">
            <button title="Edit this page"  class="pencil" onclick="location=''">
                <svg width="14px" height="16px" viewBox="0 0 14 16" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
                    <defs></defs>
                    <g id="Octicons" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
                        <g id="pencil" fill="#000000">
                            <path d="M0,12 L0,15 L3,15 L11,7 L8,4 L0,12 L0,12 Z M3,14 L1,14 L1,12 L2,12 L2,13 L3,13 L3,14 L3,14 Z M13.3,4.7 L12,6 L9,3 L10.3,1.7 C10.69,1.31 11.32,1.31 11.71,1.7 L13.3,3.29 C13.69,3.68 13.69,4.31 13.3,4.7 L13.3,4.7 Z" id="Shape"></path>
                        </g>
                    </g>
                </svg>
            </button>
        </div>

        <h1 class="title">routine reduce</h1>
        <p class="subtitle"></p>

        <nav class="indexgroup">
<table id="TOC">
<caption><h2 id="TOC_Title">Table of Contents</h2></caption>
<tr class="toc-level-1"><td class="toc-number">1</td><td class="toc-text"><a href="reduce.html#class_Any">class Any</a></td></tr>
<tr class="toc-level-2"><td class="toc-number">1.1</td><td class="toc-text"><a href="reduce.html#(Any)_routine_reduce">(Any) routine reduce</a></td></tr>
<tr class="toc-level-1"><td class="toc-number">2</td><td class="toc-text"><a href="reduce.html#class_Supply">class Supply</a></td></tr>
<tr class="toc-level-2"><td class="toc-number">2.1</td><td class="toc-text"><a href="reduce.html#(Supply)_method_reduce">(Supply) method reduce</a></td></tr>
<tr class="toc-level-1"><td class="toc-number">3</td><td class="toc-text"><a href="reduce.html#class_List">class List</a></td></tr>
<tr class="toc-level-2"><td class="toc-number">3.1</td><td class="toc-text"><a href="reduce.html#(List)_routine_reduce">(List) routine reduce</a></td></tr>

</table>
</nav>

        <div class="pod-body ">
            <p>Documentation for routine <code>reduce</code> assembled from the following types:</p>
<h1 id="class_Any"><a class="u" href="reduce.html#___top" title="go to top of document">class Any</a></h1>
<p>From <a href="../type/Any.html#routine_reduce">Any</a></p>
<h2 id="(Any)_routine_reduce"><a href="../type/Any.html#routine_reduce">(Any) routine reduce</a></h2>
<p>Defined as:</p>
<pre class="editor editor-colors"><div class="line"><span class="source raku"><span class="storage type declarator multi raku"><span>multi</span></span><span>&nbsp;</span><span class="storage type declarator type raku"><span>method</span></span><span>&nbsp;</span><span class="entity name function raku"><span>reduce</span></span><span>(</span><span class="support type raku"><span>Any</span></span><span class="meta adverb definedness raku"><span class="keyword operator adverb raku"><span>:</span></span><span class="keyword other special-method definedness raku"><span>U</span></span></span><span class="keyword operator generic raku"><span>:</span></span><span>&nbsp;&amp;&nbsp;</span><span class="keyword operator multi-symbol raku"><span>--&gt;</span></span><span>&nbsp;</span><span class="support type raku"><span>Nil</span></span><span>)</span></span></div><div class="line"><span class="source raku"><span class="storage type declarator multi raku"><span>multi</span></span><span>&nbsp;</span><span class="storage type declarator type raku"><span>method</span></span><span>&nbsp;</span><span class="entity name function raku"><span>reduce</span></span><span>(</span><span class="support type raku"><span>Any</span></span><span class="meta adverb definedness raku"><span class="keyword operator adverb raku"><span>:</span></span><span class="keyword other special-method definedness raku"><span>D</span></span></span><span class="keyword operator generic raku"><span>:</span></span><span>&nbsp;</span><span class="meta variable container raku"><span class="variable other identifier sigil raku"><span>&amp;</span></span><span class="variable other identifier raku"><span>with</span></span></span><span>)</span></span></div><div class="line"><span class="source raku"><span class="storage type declarator multi raku"><span>multi</span></span><span>&nbsp;</span><span class="storage type declarator type raku"><span>sub</span></span><span>&nbsp;</span><span class="entity name function raku"><span>reduce</span></span><span>&nbsp;(</span><span class="meta variable container raku"><span class="variable other identifier sigil raku"><span>&amp;</span></span><span class="variable other identifier raku"><span>with</span></span></span><span>,&nbsp;</span><span class="keyword operator generic raku"><span>+</span></span><span class="routine name raku"><span>list</span></span><span>)</span></span></div></pre><p>This routine combines the elements in a list-y object, and produces a single result, by applying a binary subroutine. It applies its argument (or first argument for the sub form) as an operator to all the elements in the object (or second argument for the sub form), producing a single result. The subroutine must be either an <a href="https://docs.raku.org/language/operators#index-entry-infix_operator">infix operator</a> or take two positional arguments. When using an infix operator, we must provide the code object of its subroutine version, i.e., the operator category, followed by a colon, then a list quote construct with the symbol(s) that make up the operator (e.g., <code>infix:&lt;+&gt;</code>). See <a href="../language/operators.html">Operators</a>.</p>
<pre class="editor editor-colors"><div class="line"><span class="source raku"><span class="support function raku"><span>say</span></span><span>&nbsp;(</span><span class="constant numeric raku"><span>1</span></span><span class="keyword operator multi-symbol raku"><span>..</span></span><span class="constant numeric raku"><span>4</span></span><span>)</span><span class="keyword operator generic raku"><span>.</span></span><span class="support function raku"><span>reduce</span></span><span>(</span><span class="meta variable container raku"><span class="variable other identifier sigil raku"><span>&amp;</span></span><span class="variable other identifier raku"><span>infix</span></span></span><span class="keyword operator generic raku"><span>:</span></span><span class="span keyword operator array words raku"><span>&lt;</span></span><span class="string array words raku"><span>+</span></span><span class="span keyword operator array words raku"><span>&gt;</span></span><span>);&nbsp;&nbsp;&nbsp;</span><span class="comment line number-sign raku"><span class="punctuation definition comment raku"><span>#</span></span><span>&nbsp;OUTPUT:&nbsp;«10␤»</span><span>&nbsp;</span></span></span></div><div class="line"><span class="source raku"><span class="support function raku"><span>say</span></span><span>&nbsp;</span><span class="support function raku"><span>reduce</span></span><span>&nbsp;</span><span class="meta variable container raku"><span class="variable other identifier sigil raku"><span>&amp;</span></span><span class="variable other identifier raku"><span>infix</span></span></span><span class="keyword operator generic raku"><span>:</span></span><span class="span keyword operator array words raku"><span>&lt;</span></span><span class="string array words raku"><span>+</span></span><span class="span keyword operator array words raku"><span>&gt;</span></span><span>,&nbsp;</span><span class="constant numeric raku"><span>1</span></span><span class="keyword operator multi-symbol raku"><span>..</span></span><span class="constant numeric raku"><span>4</span></span><span>;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="comment line number-sign raku"><span class="punctuation definition comment raku"><span>#</span></span><span>&nbsp;OUTPUT:&nbsp;«10␤»</span><span>&nbsp;</span></span></span></div><div class="line"><span class="source raku"><span class="support function raku"><span>say</span></span><span>&nbsp;</span><span class="support function raku"><span>reduce</span></span><span>&nbsp;</span><span class="meta variable container raku"><span class="variable other identifier sigil raku"><span>&amp;</span></span><span class="variable other identifier raku"><span>min</span></span></span><span>,&nbsp;</span><span class="constant numeric raku"><span>1</span></span><span class="keyword operator multi-symbol raku"><span>..</span></span><span class="constant numeric raku"><span>4</span></span><span>;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="comment line number-sign raku"><span class="punctuation definition comment raku"><span>#</span></span><span>&nbsp;OUTPUT:&nbsp;«1␤»</span><span>&nbsp;</span></span></span></div><div class="line"><span class="source raku"><span>&nbsp;</span></span></div><div class="line"><span class="source raku"><span class="storage type declarator type raku"><span>sub</span></span><span>&nbsp;</span><span class="entity name function raku"><span>hyphenate</span></span><span>(</span><span class="support type raku"><span>Str</span></span><span>&nbsp;\</span><span class="routine name raku"><span>a</span></span><span>,&nbsp;</span><span class="support type raku"><span>Str</span></span><span>&nbsp;\</span><span class="routine name raku"><span>b</span></span><span>)&nbsp;</span><span class="meta block raku"><span class="punctuation definition block raku"><span>{</span></span><span>&nbsp;</span><span class="routine name raku"><span>a</span></span><span>&nbsp;</span><span class="keyword operator generic raku"><span>~</span></span><span>&nbsp;</span><span class="string quoted single single raku"><span class="punctuation definition string begin raku"><span>&#39;</span></span><span>-</span><span class="punctuation definition string end raku"><span>&#39;</span></span></span><span>&nbsp;</span><span class="keyword operator generic raku"><span>~</span></span><span>&nbsp;</span><span class="routine name raku"><span>b</span></span><span>&nbsp;</span><span class="punctuation definition block raku"><span>}</span></span></span></span></div><div class="line"><span class="source raku"><span class="support function raku"><span>say</span></span><span>&nbsp;</span><span class="support function raku"><span>reduce</span></span><span>&nbsp;</span><span class="meta variable container raku"><span class="variable other identifier sigil raku"><span>&amp;</span></span><span class="variable other identifier raku"><span>hyphenate</span></span></span><span>,&nbsp;</span><span class="string quoted single single raku"><span class="punctuation definition string begin raku"><span>&#39;</span></span><span>a</span><span class="punctuation definition string end raku"><span>&#39;</span></span></span><span class="keyword operator multi-symbol raku"><span>..</span></span><span class="string quoted single single raku"><span class="punctuation definition string begin raku"><span>&#39;</span></span><span>c</span><span class="punctuation definition string end raku"><span>&#39;</span></span></span><span>;&nbsp;</span><span class="comment line number-sign raku"><span class="punctuation definition comment raku"><span>#</span></span><span>&nbsp;OUTPUT:&nbsp;«a-b-c␤»</span></span></span></div></pre><p>Applied to a class, the routine will always return <code>Nil</code>.</p>
<pre class="editor editor-colors"><div class="line"><span class="source raku"><span class="support function raku"><span>say</span></span><span>&nbsp;</span><span class="support type raku"><span>Range</span></span><span class="keyword operator generic raku"><span>.</span></span><span class="support function raku"><span>reduce</span></span><span>(</span><span class="meta variable container raku"><span class="variable other identifier sigil raku"><span>&amp;</span></span><span class="variable other identifier raku"><span>infix</span></span></span><span class="keyword operator generic raku"><span>:</span></span><span class="span keyword operator array words raku"><span>&lt;</span></span><span class="string array words raku"><span>+</span></span><span class="span keyword operator array words raku"><span>&gt;</span></span><span>);&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="comment line number-sign raku"><span class="punctuation definition comment raku"><span>#</span></span><span>&nbsp;OUTPUT:&nbsp;«Nil␤»</span><span>&nbsp;</span></span></span></div><div class="line"><span class="source raku"><span class="support function raku"><span>say</span></span><span>&nbsp;</span><span class="support type raku"><span>Str</span></span><span class="keyword operator generic raku"><span>.</span></span><span class="support function raku"><span>reduce</span></span><span>(</span><span class="meta variable container raku"><span class="variable other identifier sigil raku"><span>&amp;</span></span><span class="variable other identifier raku"><span>infix</span></span></span><span class="keyword operator generic raku"><span>:</span></span><span class="span keyword operator array words raku"><span>&lt;</span></span><span class="string array words raku"><span>~</span></span><span class="span keyword operator array words raku"><span>&gt;</span></span><span>);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="comment line number-sign raku"><span class="punctuation definition comment raku"><span>#</span></span><span>&nbsp;OUTPUT:&nbsp;«Nil␤»</span></span></span></div></pre><p>See <a href="../type/List.html#routine_reduce">List.reduce</a> for a more thorough discussion.</p>
<h1 id="class_Supply"><a class="u" href="reduce.html#___top" title="go to top of document">class Supply</a></h1>
<p>From <a href="../type/Supply.html#method_reduce">Supply</a></p>
<h2 id="(Supply)_method_reduce"><a href="../type/Supply.html#method_reduce">(Supply) method reduce</a></h2>
<p>Defined as:</p>
<pre class="editor editor-colors"><div class="line"><span class="source raku"><span class="storage type declarator type raku"><span>method</span></span><span>&nbsp;</span><span class="entity name function raku"><span>reduce</span></span><span>(</span><span class="support type raku"><span>Supply</span></span><span class="meta adverb definedness raku"><span class="keyword operator adverb raku"><span>:</span></span><span class="keyword other special-method definedness raku"><span>D</span></span></span><span class="keyword operator generic raku"><span>:</span></span><span>&nbsp;</span><span class="meta variable container raku"><span class="variable other identifier sigil raku"><span>&amp;</span></span><span class="variable other identifier raku"><span>with</span></span></span><span>&nbsp;</span><span class="keyword operator multi-symbol raku"><span>--&gt;</span></span><span>&nbsp;</span><span class="support type raku"><span>Supply</span></span><span class="meta adverb definedness raku"><span class="keyword operator adverb raku"><span>:</span></span><span class="keyword other special-method definedness raku"><span>D</span></span></span><span>)</span></span></div></pre><p>Creates a &quot;reducing&quot; supply, which will emit a single value with the same semantics as <a href="../type/List.html#routine_reduce">List.reduce</a>.</p>
<pre class="editor editor-colors"><div class="line"><span class="source raku"><span class="storage modifier declarator raku"><span>my</span></span><span>&nbsp;</span><span class="meta variable container raku"><span class="variable other identifier sigil raku"><span>$</span></span><span class="variable other identifier raku"><span>supply</span></span></span><span>&nbsp;</span><span class="storage modifier assignment raku"><span>=</span></span><span>&nbsp;</span><span class="support type raku"><span>Supply</span></span><span class="keyword operator generic raku"><span>.</span></span><span class="routine name raku"><span>from-list</span></span><span>(</span><span class="constant numeric raku"><span>1</span></span><span class="keyword operator multi-symbol raku"><span>..</span></span><span class="constant numeric raku"><span>5</span></span><span>)</span><span class="keyword operator generic raku"><span>.</span></span><span class="support function raku"><span>reduce</span></span><span>(</span><span class="meta block raku"><span class="punctuation definition block raku"><span>{</span></span><span class="meta variable container raku"><span class="variable other identifier sigil raku"><span>$</span></span><span class="support class twigil raku"><span>^</span></span><span class="variable other identifier raku"><span>a</span></span></span><span>&nbsp;</span><span class="keyword operator generic raku"><span>+</span></span><span>&nbsp;</span><span class="meta variable container raku"><span class="variable other identifier sigil raku"><span>$</span></span><span class="support class twigil raku"><span>^</span></span><span class="variable other identifier raku"><span>b</span></span></span><span class="punctuation definition block raku"><span>}</span></span></span><span>);</span></span></div><div class="line"><span class="source raku"><span class="meta variable container raku"><span class="variable other identifier sigil raku"><span>$</span></span><span class="variable other identifier raku"><span>supply</span></span></span><span class="keyword operator generic raku"><span>.</span></span><span class="support function raku"><span>tap</span></span><span>(</span><span class="keyword operator multi-symbol raku"><span>-&gt;</span></span><span>&nbsp;</span><span class="meta variable container raku"><span class="variable other identifier sigil raku"><span>$</span></span><span class="variable other identifier raku"><span>v</span></span></span><span>&nbsp;</span><span class="meta block raku"><span class="punctuation definition block raku"><span>{</span></span><span>&nbsp;</span><span class="support function raku"><span>say</span></span><span>&nbsp;</span><span class="string quoted double raku"><span class="punctuation definition string begin raku"><span>&quot;</span></span><span class="variable other identifier interpolated raku"><span class="variable other identifier sigil raku"><span>$</span></span><span>v</span></span><span class="punctuation definition string end raku"><span>&quot;</span></span></span><span>&nbsp;</span><span class="punctuation definition block raku"><span>}</span></span></span><span>);&nbsp;</span><span class="comment line number-sign raku"><span class="punctuation definition comment raku"><span>#</span></span><span>&nbsp;OUTPUT:&nbsp;«15␤»</span></span></span></div></pre><h1 id="class_List"><a class="u" href="reduce.html#___top" title="go to top of document">class List</a></h1>
<p>From <a href="../type/List.html#routine_reduce">List</a></p>
<h2 id="(List)_routine_reduce"><a href="../type/List.html#routine_reduce">(List) routine reduce</a></h2>
<p>Defined as:</p>
<pre class="editor editor-colors"><div class="line"><span class="source raku"><span class="storage type declarator multi raku"><span>multi</span></span><span>&nbsp;</span><span class="storage type declarator type raku"><span>method</span></span><span>&nbsp;</span><span class="entity name function raku"><span>reduce</span></span><span>(</span><span class="support type raku"><span>Any</span></span><span class="meta adverb definedness raku"><span class="keyword operator adverb raku"><span>:</span></span><span class="keyword other special-method definedness raku"><span>D</span></span></span><span class="keyword operator generic raku"><span>:</span></span><span>&nbsp;</span><span class="meta variable container raku"><span class="variable other identifier sigil raku"><span>&amp;</span></span><span class="variable other identifier raku"><span>with</span></span></span><span>)</span></span></div><div class="line"><span class="source raku"><span class="storage type declarator multi raku"><span>multi</span></span><span>&nbsp;</span><span class="storage type declarator type raku"><span>sub</span></span><span>&nbsp;</span><span class="entity name function raku"><span>reduce</span></span><span>&nbsp;(</span><span class="meta variable container raku"><span class="variable other identifier sigil raku"><span>&amp;</span></span><span class="variable other identifier raku"><span>with</span></span></span><span>,&nbsp;</span><span class="keyword operator generic raku"><span>+</span></span><span class="routine name raku"><span>list</span></span><span>)</span></span></div></pre><p>Returns a single &quot;combined&quot; value from a list of arbitrarily many values, by iteratively applying a routine which knows how to combine <em>two</em> values. In addition to the subroutine and the list, an initial value can be provided to initialize the reduction, which ends up being the return value if the list is empty. Thus <code>reduce f, init, list</code> combines the elements of the list from left to right, as is shown in the following pseudocode:</p>
<pre class="editor editor-colors"><div class="line"><span class="source raku"><span class="routine name raku"><span>result0</span></span><span>&nbsp;</span><span class="storage modifier assignment raku"><span>=</span></span><span>&nbsp;</span><span class="routine name raku"><span>init</span></span></span></div><div class="line"><span class="source raku"><span class="routine name raku"><span>result1</span></span><span>&nbsp;</span><span class="storage modifier assignment raku"><span>=</span></span><span>&nbsp;</span><span class="routine name raku"><span>f</span></span><span>(</span><span class="routine name raku"><span>result0</span></span><span>,&nbsp;</span><span class="routine name raku"><span>list</span></span><span>[</span><span class="constant numeric raku"><span>0</span></span><span>])</span></span></div><div class="line"><span class="source raku"><span class="routine name raku"><span>result2</span></span><span>&nbsp;</span><span class="storage modifier assignment raku"><span>=</span></span><span>&nbsp;</span><span class="routine name raku"><span>f</span></span><span>(</span><span class="routine name raku"><span>result1</span></span><span>,&nbsp;</span><span class="routine name raku"><span>list</span></span><span>[</span><span class="constant numeric raku"><span>1</span></span><span>])</span></span></div><div class="line"><span class="source raku"><span class="keyword operator multi-symbol raku"><span>...</span></span></span></div><div class="line"><span class="source raku"><span class="routine name raku"><span>resultn</span></span><span>&nbsp;</span><span class="storage modifier assignment raku"><span>=</span></span><span>&nbsp;</span><span class="routine name raku"><span>f</span></span><span>(</span><span class="routine name raku"><span>resultn</span></span><span>-1,&nbsp;</span><span class="routine name raku"><span>list</span></span><span>[</span><span class="routine name raku"><span>n</span></span><span>-1])</span></span></div></pre><p><code>resultn</code> is the final result for an n-element list.</p>
<pre class="editor editor-colors"><div class="line"><span class="source raku"><span class="support function raku"><span>say</span></span><span>&nbsp;</span><span class="support function raku"><span>reduce</span></span><span>&nbsp;</span><span class="meta variable container raku"><span class="variable other identifier sigil raku"><span>&amp;</span></span><span class="variable other identifier raku"><span>infix</span></span></span><span class="keyword operator generic raku"><span>:</span></span><span class="span keyword operator array words raku"><span>&lt;</span></span><span class="string array words raku"><span>+</span></span><span class="span keyword operator array words raku"><span>&gt;</span></span><span>,&nbsp;(</span><span class="constant numeric raku"><span>1</span></span><span>,&nbsp;</span><span class="constant numeric raku"><span>2</span></span><span>,&nbsp;</span><span class="constant numeric raku"><span>3</span></span><span>);&nbsp;</span><span class="comment line number-sign raku"><span class="punctuation definition comment raku"><span>#</span></span><span>&nbsp;OUTPUT:&nbsp;«6␤»</span><span>&nbsp;</span></span></span></div><div class="line"><span class="source raku"><span class="support function raku"><span>say</span></span><span>&nbsp;(</span><span class="constant numeric raku"><span>1</span></span><span>,&nbsp;</span><span class="constant numeric raku"><span>2</span></span><span>,&nbsp;</span><span class="constant numeric raku"><span>3</span></span><span>)</span><span class="keyword operator generic raku"><span>.</span></span><span class="support function raku"><span>reduce</span></span><span class="keyword operator generic raku"><span>:</span></span><span>&nbsp;</span><span class="meta variable container raku"><span class="variable other identifier sigil raku"><span>&amp;</span></span><span class="variable other identifier raku"><span>infix</span></span></span><span class="keyword operator generic raku"><span>:</span></span><span class="span keyword operator array words raku"><span>&lt;</span></span><span class="string array words raku"><span>+</span></span><span class="span keyword operator array words raku"><span>&gt;</span></span><span>;&nbsp;</span><span class="comment line number-sign raku"><span class="punctuation definition comment raku"><span>#</span></span><span>&nbsp;OUTPUT:&nbsp;«6␤»</span><span>&nbsp;</span></span></span></div><div class="line"><span class="source raku"><span class="support function raku"><span>say</span></span><span>&nbsp;</span><span class="support function raku"><span>reduce</span></span><span>&nbsp;</span><span class="meta variable container raku"><span class="variable other identifier sigil raku"><span>&amp;</span></span><span class="variable other identifier raku"><span>max</span></span></span><span>,&nbsp;(</span><span class="constant numeric raku"><span>5</span></span><span>,&nbsp;</span><span class="constant numeric raku"><span>9</span></span><span>,&nbsp;</span><span class="constant numeric raku"><span>12</span></span><span>,&nbsp;</span><span class="constant numeric raku"><span>1</span></span><span>);&nbsp;&nbsp;&nbsp;</span><span class="comment line number-sign raku"><span class="punctuation definition comment raku"><span>#</span></span><span>&nbsp;OUTPUT:&nbsp;«12␤»</span></span></span></div></pre><p>If <code>list</code> contains just a single element, the operator is applied to that single element if possible; if not, it returns the element itself.</p>
<pre class="editor editor-colors"><div class="line"><span class="source raku"><span class="support function raku"><span>say</span></span><span>&nbsp;</span><span class="support function raku"><span>reduce</span></span><span>&nbsp;</span><span class="meta variable container raku"><span class="variable other identifier sigil raku"><span>&amp;</span></span><span class="variable other identifier raku"><span>infix</span></span></span><span class="keyword operator generic raku"><span>:</span></span><span class="span keyword operator array words raku"><span>&lt;</span></span><span class="string array words raku"><span>-</span></span><span class="span keyword operator array words raku"><span>&gt;</span></span><span>,&nbsp;(</span><span class="constant numeric raku"><span>10</span></span><span>,);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="comment line number-sign raku"><span class="punctuation definition comment raku"><span>#</span></span><span>&nbsp;OUTPUT:&nbsp;«10␤»</span></span></span></div></pre><p>When the list contains no elements, an exception is thrown, unless <code>&amp;with</code> is an <em>operator</em> with a known identity value (e.g., the identity value of <code>infix:&lt;+&gt;</code> is 0). For this reason, you&#39;re advised to prefix the input list with an initial value (or explicit identity value):</p>
<pre class="editor editor-colors"><div class="line"><span class="source raku"><span class="storage modifier declarator raku"><span>my</span></span><span>&nbsp;\</span><span class="routine name raku"><span>strings</span></span><span>&nbsp;</span><span class="storage modifier assignment raku"><span>=</span></span><span>&nbsp;</span><span class="string quoted double raku"><span class="punctuation definition string begin raku"><span>&quot;</span></span><span>One&nbsp;good&nbsp;string!</span><span class="punctuation definition string end raku"><span>&quot;</span></span></span><span>,&nbsp;</span><span class="string quoted double raku"><span class="punctuation definition string begin raku"><span>&quot;</span></span><span>And&nbsp;one&nbsp;another&nbsp;good&nbsp;string!</span><span class="punctuation definition string end raku"><span>&quot;</span></span></span><span>;</span></span></div><div class="line"><span class="source raku"><span class="support function raku"><span>say</span></span><span>&nbsp;</span><span class="support function raku"><span>reduce</span></span><span>&nbsp;</span><span class="meta block raku"><span class="punctuation definition block raku"><span>{</span></span><span>&nbsp;</span><span class="meta variable container raku"><span class="variable other identifier sigil raku"><span>$</span></span><span class="support class twigil raku"><span>^</span></span><span class="variable other identifier raku"><span>a</span></span></span><span>&nbsp;</span><span class="keyword operator generic raku"><span>~</span></span><span>&nbsp;</span><span class="meta variable container raku"><span class="variable other identifier sigil raku"><span>$</span></span><span class="support class twigil raku"><span>^</span></span><span class="variable other identifier raku"><span>b</span></span></span><span>&nbsp;</span><span class="punctuation definition block raku"><span>}</span></span></span><span>,&nbsp;</span><span class="string quoted single single raku"><span class="punctuation definition string begin raku"><span>&#39;</span></span><span class="punctuation definition string end raku"><span>&#39;</span></span></span><span>,&nbsp;</span><span class="keyword operator generic raku"><span>|</span></span><span class="routine name raku"><span>strings</span></span><span>;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="comment line number-sign raku"><span class="punctuation definition comment raku"><span>#</span></span><span>&nbsp;like&nbsp;strings.join</span><span>&nbsp;</span></span></span></div><div class="line"><span class="source raku"><span>&nbsp;</span></span></div><div class="line"><span class="source raku"><span class="storage modifier declarator raku"><span>my</span></span><span>&nbsp;\</span><span class="routine name raku"><span>numbers</span></span><span>&nbsp;</span><span class="storage modifier assignment raku"><span>=</span></span><span>&nbsp;</span><span class="constant numeric raku"><span>1</span></span><span>,&nbsp;</span><span class="constant numeric raku"><span>2</span></span><span>,&nbsp;</span><span class="constant numeric raku"><span>3</span></span><span>,&nbsp;</span><span class="constant numeric raku"><span>4</span></span><span>,&nbsp;</span><span class="constant numeric raku"><span>5</span></span><span>;</span></span></div><div class="line"><span class="source raku"><span class="support function raku"><span>say</span></span><span>&nbsp;</span><span class="support function raku"><span>reduce</span></span><span>&nbsp;</span><span class="meta block raku"><span class="punctuation definition block raku"><span>{</span></span><span>&nbsp;</span><span class="meta variable container raku"><span class="variable other identifier sigil raku"><span>$</span></span><span class="support class twigil raku"><span>^</span></span><span class="variable other identifier raku"><span>a</span></span></span><span>&nbsp;</span><span class="keyword operator generic raku"><span>&gt;</span></span><span>&nbsp;</span><span class="meta variable container raku"><span class="variable other identifier sigil raku"><span>$</span></span><span class="support class twigil raku"><span>^</span></span><span class="variable other identifier raku"><span>b</span></span></span><span>&nbsp;</span><span class="keyword operator multi-symbol raku"><span>??</span></span><span>&nbsp;</span><span class="meta variable container raku"><span class="variable other identifier sigil raku"><span>$</span></span><span class="support class twigil raku"><span>^</span></span><span class="variable other identifier raku"><span>a</span></span></span><span>&nbsp;</span><span class="keyword operator multi-symbol raku"><span>!!</span></span><span>&nbsp;</span><span class="meta variable container raku"><span class="variable other identifier sigil raku"><span>$</span></span><span class="support class twigil raku"><span>^</span></span><span class="variable other identifier raku"><span>b</span></span></span><span>&nbsp;</span><span class="punctuation definition block raku"><span>}</span></span></span><span>,&nbsp;</span><span class="constant numeric raku"><span>0</span></span><span>,&nbsp;</span><span class="keyword operator generic raku"><span>|</span></span><span class="routine name raku"><span>numbers</span></span><span>;&nbsp;</span><span class="comment line number-sign raku"><span class="punctuation definition comment raku"><span>#</span></span><span>&nbsp;like&nbsp;numbers.max</span><span>&nbsp;</span></span></span></div><div class="line"><span class="source raku"><span>&nbsp;</span></span></div><div class="line"><span class="source raku"><span class="storage type declarator type raku"><span>sub</span></span><span>&nbsp;</span><span class="entity name function raku"><span>count-and-sum-evens</span></span><span>(&nbsp;(</span><span class="support type raku"><span>Int</span></span><span>&nbsp;\</span><span class="routine name raku"><span>count</span></span><span>,&nbsp;</span><span class="support type raku"><span>Int</span></span><span>&nbsp;\</span><span class="routine name raku"><span>sum</span></span><span>),&nbsp;</span><span class="support type raku"><span>Int</span></span><span>&nbsp;\</span><span class="keyword operator word raku"><span>x</span></span><span>&nbsp;)&nbsp;</span><span class="meta block raku"><span class="punctuation definition block raku"><span>{</span></span></span></span></div><div class="line"><span class="source raku"><span class="meta block raku"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword operator word raku"><span>x</span></span><span>&nbsp;</span><span class="keyword operator multi-symbol raku"><span>%%</span></span><span>&nbsp;</span><span class="constant numeric raku"><span>2</span></span><span>&nbsp;</span><span class="keyword operator multi-symbol raku"><span>??</span></span><span>&nbsp;(</span><span class="support function raku"><span>count</span></span><span class="keyword operator generic raku"><span>+</span></span><span>1,&nbsp;</span><span class="support function raku"><span>sum</span></span><span class="keyword operator generic raku"><span>+</span></span><span class="keyword operator word raku"><span>x</span></span><span>)&nbsp;</span><span class="keyword operator multi-symbol raku"><span>!!</span></span><span>&nbsp;(</span><span class="support function raku"><span>count</span></span><span>,&nbsp;</span><span class="support function raku"><span>sum</span></span><span>)</span></span></span></div><div class="line"><span class="source raku"><span class="meta block raku"><span class="punctuation definition block raku"><span>}</span></span></span></span></div><div class="line"><span class="source raku"><span>&nbsp;</span></span></div><div class="line"><span class="source raku"><span class="support function raku"><span>say</span></span><span>&nbsp;</span><span class="support function raku"><span>reduce</span></span><span>&nbsp;</span><span class="meta variable container raku"><span class="variable other identifier sigil raku"><span>&amp;</span></span><span class="variable other identifier raku"><span>count-and-sum-evens</span></span></span><span>,&nbsp;(</span><span class="constant numeric raku"><span>0</span></span><span>,&nbsp;</span><span class="constant numeric raku"><span>0</span></span><span>),&nbsp;</span><span class="keyword operator generic raku"><span>|</span></span><span class="routine name raku"><span>numbers</span></span><span>;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="comment line number-sign raku"><span class="punctuation definition comment raku"><span>#</span></span><span>&nbsp;OUTPUT:&nbsp;«(2&nbsp;6)␤»</span></span></span></div></pre><p>In the last example, since <code>reduce</code> only supports one initial value we use a <code>List</code> with two values, which is by itself a single value. The <code>count-and-sum-evens</code> subroutine takes two positional values: a <code>List</code> of two <code>Int</code>s and an <code>Int</code>, and return a <code>List</code> storing the count and sum of the even integers accumulated.</p>
<p>If <code>&amp;with</code> is the code object of an <em>operator</em>, its inherent identity value and associativity is respected - in other words, <code>(VAL1, VAL2, VAL3).reduce(&amp;infix:&lt;OP&gt;)</code> is the same as <code>VAL1 OP VAL2 OP VAL3</code> even for operators which aren&#39;t left-associative:</p>
<pre class="editor editor-colors"><div class="line"><span class="source raku"><span class="comment line number-sign raku"><span class="punctuation definition comment raku"><span>#</span></span><span>&nbsp;Raise&nbsp;2&nbsp;to&nbsp;the&nbsp;81st&nbsp;power,&nbsp;because&nbsp;3&nbsp;to&nbsp;the&nbsp;4th&nbsp;power&nbsp;is&nbsp;81</span><span>&nbsp;</span></span></span></div><div class="line"><span class="source raku"><span>(</span><span class="constant numeric raku"><span>2</span></span><span>,</span><span class="constant numeric raku"><span>3</span></span><span>,</span><span class="constant numeric raku"><span>4</span></span><span>)</span><span class="keyword operator generic raku"><span>.</span></span><span class="support function raku"><span>reduce</span></span><span>(</span><span class="meta variable container raku"><span class="variable other identifier sigil raku"><span>&amp;</span></span><span class="variable other identifier raku"><span>infix</span></span></span><span class="keyword operator generic raku"><span>:</span></span><span class="span keyword operator array words raku"><span>&lt;</span></span><span class="string array words raku"><span>**</span></span><span class="span keyword operator array words raku"><span>&gt;</span></span><span>)</span><span class="keyword operator generic raku"><span>.</span></span><span class="routine name raku"><span>lsb</span></span><span class="keyword operator generic raku"><span>.</span></span><span class="support function raku"><span>say</span></span><span>;&nbsp;&nbsp;</span><span class="comment line number-sign raku"><span class="punctuation definition comment raku"><span>#</span></span><span>&nbsp;OUTPUT:&nbsp;«81␤»</span><span>&nbsp;</span></span></span></div><div class="line"><span class="source raku"><span>(</span><span class="constant numeric raku"><span>2</span></span><span class="keyword operator multi-symbol raku"><span>**</span></span><span>(</span><span class="constant numeric raku"><span>3</span></span><span class="keyword operator multi-symbol raku"><span>**</span></span><span class="constant numeric raku"><span>4</span></span><span>))</span><span class="keyword operator generic raku"><span>.</span></span><span class="routine name raku"><span>lsb</span></span><span class="keyword operator generic raku"><span>.</span></span><span class="support function raku"><span>say</span></span><span>;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="comment line number-sign raku"><span class="punctuation definition comment raku"><span>#</span></span><span>&nbsp;OUTPUT:&nbsp;«81␤»</span><span>&nbsp;</span></span></span></div><div class="line"><span class="source raku"><span>(</span><span class="constant numeric raku"><span>2</span></span><span class="keyword operator multi-symbol raku"><span>**</span></span><span class="constant numeric raku"><span>3</span></span><span class="keyword operator multi-symbol raku"><span>**</span></span><span class="constant numeric raku"><span>4</span></span><span>)</span><span class="keyword operator generic raku"><span>.</span></span><span class="routine name raku"><span>lsb</span></span><span class="keyword operator generic raku"><span>.</span></span><span class="support function raku"><span>say</span></span><span>;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="comment line number-sign raku"><span class="punctuation definition comment raku"><span>#</span></span><span>&nbsp;OUTPUT:&nbsp;«81␤»</span><span>&nbsp;</span></span></span></div><div class="line"><span class="source raku"><span>&nbsp;</span></span></div><div class="line"><span class="source raku"><span class="comment line number-sign raku"><span class="punctuation definition comment raku"><span>#</span></span><span>&nbsp;Subtract&nbsp;4&nbsp;from&nbsp;-1,&nbsp;because&nbsp;2&nbsp;minus&nbsp;3&nbsp;is&nbsp;-1</span><span>&nbsp;</span></span></span></div><div class="line"><span class="source raku"><span>(</span><span class="constant numeric raku"><span>2</span></span><span>,</span><span class="constant numeric raku"><span>3</span></span><span>,</span><span class="constant numeric raku"><span>4</span></span><span>)</span><span class="keyword operator generic raku"><span>.</span></span><span class="support function raku"><span>reduce</span></span><span>(</span><span class="meta variable container raku"><span class="variable other identifier sigil raku"><span>&amp;</span></span><span class="variable other identifier raku"><span>infix</span></span></span><span class="keyword operator generic raku"><span>:</span></span><span class="span keyword operator array words raku"><span>&lt;</span></span><span class="string array words raku"><span>-</span></span><span class="span keyword operator array words raku"><span>&gt;</span></span><span>)</span><span class="keyword operator generic raku"><span>.</span></span><span class="support function raku"><span>say</span></span><span>;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="comment line number-sign raku"><span class="punctuation definition comment raku"><span>#</span></span><span>&nbsp;OUTPUT:&nbsp;«-5␤»</span><span>&nbsp;</span></span></span></div><div class="line"><span class="source raku"><span>((</span><span class="constant numeric raku"><span>2</span></span><span>-3)-4)</span><span class="keyword operator generic raku"><span>.</span></span><span class="support function raku"><span>say</span></span><span>;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="comment line number-sign raku"><span class="punctuation definition comment raku"><span>#</span></span><span>&nbsp;OUTPUT:&nbsp;«-5␤»</span><span>&nbsp;</span></span></span></div><div class="line"><span class="source raku"><span>(</span><span class="constant numeric raku"><span>2</span></span><span>-3-4)</span><span class="keyword operator generic raku"><span>.</span></span><span class="support function raku"><span>say</span></span><span>;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="comment line number-sign raku"><span class="punctuation definition comment raku"><span>#</span></span><span>&nbsp;OUTPUT:&nbsp;«-5␤»</span></span></span></div></pre><p>Since reducing with an infix operator is a common thing to do, the <a href="../language/operators.html#Reduction_metaoperators">reduction metaoperator</a> <code>[ ]</code> provides a syntactic shortcut. Thus, instead of passing the operator&#39;s code object to <code>reduce</code>, just pass the operator directly to <code>[ ]</code>. To use a user-defined subroutine instead, provide an additional layer of square brackets around the subroutine&#39;s code object:</p>
<pre class="editor editor-colors"><div class="line"><span class="source raku"><span class="support function raku"><span>say</span></span><span>&nbsp;[</span><span class="constant language whatever hack raku"><span>*</span></span><span>]&nbsp;(</span><span class="constant numeric raku"><span>1</span></span><span>,&nbsp;</span><span class="constant numeric raku"><span>2</span></span><span>,&nbsp;</span><span class="constant numeric raku"><span>3</span></span><span>,&nbsp;</span><span class="constant numeric raku"><span>4</span></span><span>);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="comment line number-sign raku"><span class="punctuation definition comment raku"><span>#</span></span><span>&nbsp;OUTPUT:&nbsp;«24␤»</span><span>&nbsp;</span></span></span></div><div class="line"><span class="source raku"><span class="support function raku"><span>say</span></span><span>&nbsp;[</span><span class="keyword operator word raku"><span>min</span></span><span>]&nbsp;(</span><span class="constant numeric raku"><span>4</span></span><span>,&nbsp;</span><span class="constant numeric raku"><span>2</span></span><span>,&nbsp;</span><span class="constant numeric raku"><span>1</span></span><span>,&nbsp;</span><span class="constant numeric raku"><span>3</span></span><span>);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="comment line number-sign raku"><span class="punctuation definition comment raku"><span>#</span></span><span>&nbsp;OUTPUT:&nbsp;«1␤»</span><span>&nbsp;</span></span></span></div><div class="line"><span class="source raku"><span>&nbsp;</span></span></div><div class="line"><span class="source raku"><span class="storage type declarator type raku"><span>sub</span></span><span>&nbsp;</span><span class="entity name function raku"><span>mult</span></span><span>&nbsp;</span><span class="meta block raku"><span class="punctuation definition block raku"><span>{</span></span><span>&nbsp;</span><span class="meta variable container raku"><span class="variable other identifier sigil raku"><span>$</span></span><span class="support class twigil raku"><span>^</span></span><span class="variable other identifier raku"><span>a</span></span></span><span>&nbsp;</span><span class="keyword operator generic raku"><span>*</span></span><span>&nbsp;</span><span class="meta variable container raku"><span class="variable other identifier sigil raku"><span>$</span></span><span class="support class twigil raku"><span>^</span></span><span class="variable other identifier raku"><span>b</span></span></span><span>&nbsp;</span><span class="punctuation definition block raku"><span>}</span></span></span><span>;</span></span></div><div class="line"><span class="source raku"><span class="support function raku"><span>say</span></span><span>&nbsp;[[</span><span class="meta variable container raku"><span class="variable other identifier sigil raku"><span>&amp;</span></span><span class="variable other identifier raku"><span>mult</span></span></span><span>]]&nbsp;(</span><span class="constant numeric raku"><span>1</span></span><span>,&nbsp;</span><span class="constant numeric raku"><span>2</span></span><span>,&nbsp;</span><span class="constant numeric raku"><span>3</span></span><span>,&nbsp;</span><span class="constant numeric raku"><span>4</span></span><span>);&nbsp;</span><span class="comment line number-sign raku"><span class="punctuation definition comment raku"><span>#</span></span><span>&nbsp;OUTPUT:&nbsp;«24␤»</span></span></span></div></pre><p>Semantically, all the following do the same thing:</p>
<pre class="editor editor-colors"><div class="line"><span class="source raku"><span class="storage modifier declarator raku"><span>my</span></span><span>&nbsp;\</span><span class="routine name raku"><span>numbers</span></span><span>&nbsp;</span><span class="storage modifier assignment raku"><span>=</span></span><span>&nbsp;</span><span class="constant numeric raku"><span>1</span></span><span>,&nbsp;</span><span class="constant numeric raku"><span>2</span></span><span>,&nbsp;</span><span class="constant numeric raku"><span>3</span></span><span>,&nbsp;</span><span class="constant numeric raku"><span>4</span></span><span>,&nbsp;</span><span class="constant numeric raku"><span>5</span></span><span>;</span></span></div><div class="line"><span class="source raku"><span class="support function raku"><span>say</span></span><span>&nbsp;</span><span class="support function raku"><span>reduce</span></span><span>&nbsp;</span><span class="meta block raku"><span class="punctuation definition block raku"><span>{</span></span><span>&nbsp;</span><span class="meta variable container raku"><span class="variable other identifier sigil raku"><span>$</span></span><span class="support class twigil raku"><span>^</span></span><span class="variable other identifier raku"><span>a</span></span></span><span>&nbsp;</span><span class="keyword operator generic raku"><span>+</span></span><span>&nbsp;</span><span class="meta variable container raku"><span class="variable other identifier sigil raku"><span>$</span></span><span class="support class twigil raku"><span>^</span></span><span class="variable other identifier raku"><span>b</span></span></span><span>&nbsp;</span><span class="punctuation definition block raku"><span>}</span></span></span><span>,&nbsp;</span><span class="constant numeric raku"><span>0</span></span><span>,&nbsp;</span><span class="keyword operator generic raku"><span>|</span></span><span class="routine name raku"><span>numbers</span></span><span>;</span></span></div><div class="line"><span class="source raku"><span class="support function raku"><span>say</span></span><span>&nbsp;</span><span class="support function raku"><span>reduce</span></span><span>&nbsp;</span><span class="keyword operator generic raku"><span>*</span></span><span>&nbsp;</span><span class="keyword operator generic raku"><span>+</span></span><span>&nbsp;</span><span class="keyword operator generic raku"><span>*</span></span><span>,&nbsp;</span><span class="constant numeric raku"><span>0</span></span><span>,&nbsp;</span><span class="keyword operator generic raku"><span>|</span></span><span class="routine name raku"><span>numbers</span></span><span>;</span></span></div><div class="line"><span class="source raku"><span class="support function raku"><span>say</span></span><span>&nbsp;</span><span class="support function raku"><span>reduce</span></span><span>&nbsp;&amp;[</span><span class="keyword operator generic raku"><span>+</span></span><span>],&nbsp;</span><span class="routine name raku"><span>numbers</span></span><span>;&nbsp;</span><span class="comment line number-sign raku"><span class="punctuation definition comment raku"><span>#</span></span><span>&nbsp;operator&nbsp;does&nbsp;not&nbsp;need&nbsp;explicit&nbsp;identity&nbsp;value</span><span>&nbsp;</span></span></span></div><div class="line"><span class="source raku"><span class="support function raku"><span>say</span></span><span>&nbsp;[</span><span class="keyword operator generic raku"><span>+</span></span><span>]&nbsp;</span><span class="routine name raku"><span>numbers</span></span><span>;</span></span></div></pre><p>Since <code>reduce</code> is an implicit loop that iterates over with its <em>reducing</em> subroutine, it responds to <code>next</code>, <code>last</code> and <code>redo</code> statements inside <code>&amp;with</code>:</p>
<pre class="editor editor-colors"><div class="line"><span class="source raku"><span class="storage type declarator type raku"><span>sub</span></span><span>&nbsp;</span><span class="entity name function raku"><span>last-after-seven</span></span><span>&nbsp;</span><span class="meta block raku"><span class="punctuation definition block raku"><span>{</span></span><span>&nbsp;</span><span class="keyword control flowcontrol raku"><span>last</span></span><span>&nbsp;</span><span class="keyword control conditional raku"><span>if</span></span><span>&nbsp;</span><span class="meta variable container raku"><span class="variable other identifier sigil raku"><span>$</span></span><span class="support class twigil raku"><span>^</span></span><span class="variable other identifier raku"><span>a</span></span></span><span>&nbsp;</span><span class="keyword operator generic raku"><span>&gt;</span></span><span>&nbsp;</span><span class="constant numeric raku"><span>7</span></span><span>;&nbsp;</span><span class="meta variable container raku"><span class="variable other identifier sigil raku"><span>$</span></span><span class="support class twigil raku"><span>^</span></span><span class="variable other identifier raku"><span>a</span></span></span><span>&nbsp;</span><span class="keyword operator generic raku"><span>+</span></span><span>&nbsp;</span><span class="meta variable container raku"><span class="variable other identifier sigil raku"><span>$</span></span><span class="support class twigil raku"><span>^</span></span><span class="variable other identifier raku"><span>b</span></span></span><span>&nbsp;</span><span class="punctuation definition block raku"><span>}</span></span></span><span>;</span></span></div><div class="line"><span class="source raku"><span class="support function raku"><span>say</span></span><span>&nbsp;(</span><span class="constant numeric raku"><span>2</span></span><span>,&nbsp;</span><span class="constant numeric raku"><span>3</span></span><span>,&nbsp;</span><span class="constant numeric raku"><span>4</span></span><span>,&nbsp;</span><span class="constant numeric raku"><span>5</span></span><span>)</span><span class="keyword operator generic raku"><span>.</span></span><span class="support function raku"><span>reduce</span></span><span class="keyword operator generic raku"><span>:</span></span><span>&nbsp;</span><span class="meta variable container raku"><span class="variable other identifier sigil raku"><span>&amp;</span></span><span class="variable other identifier raku"><span>last-after-seven</span></span></span><span>;&nbsp;</span><span class="comment line number-sign raku"><span class="punctuation definition comment raku"><span>#</span></span><span>&nbsp;OUTPUT:&nbsp;«9␤»</span></span></span></div></pre><p>Whether <code>reduce</code> accumulates the elements starting from the left or from the right depends on the operator. In the functional programming world, this operation is generally called a <a href="https://en.wikipedia.org/wiki/Fold_%28higher-order_function%29#Folds_on_lists">fold</a>. With a right-associative operator it is a <em>right fold</em>, otherwise (and usually) it is a <em>left fold</em>. In Raku, you can specify the associativity of an operator with the <a href="../language/functions.html#index-entry-is_assoc_(trait)"><code>is assoc</code></a>.</p>
<pre class="editor editor-colors"><div class="line"><span class="source raku"><span class="storage type declarator type raku"><span>sub</span></span><span>&nbsp;</span><span class="entity name function raku"><span>infix</span></span><span class="punctuation definition function adverb raku"><span>:</span></span><span class="span keyword operator array words raku"><span>&lt;</span></span><span class="string array words raku"><span>foo</span></span><span class="span keyword operator array words raku"><span>&gt;</span></span><span>(</span><span class="meta variable container raku"><span class="variable other identifier sigil raku"><span>$</span></span><span class="variable other identifier raku"><span>a</span></span></span><span>,&nbsp;</span><span class="meta variable container raku"><span class="variable other identifier sigil raku"><span>$</span></span><span class="variable other identifier raku"><span>b</span></span></span><span>)&nbsp;</span><span class="storage modifier type constraints raku"><span>is</span></span><span>&nbsp;</span><span class="entity name type trait raku"><span>assoc</span></span><span class="span keyword operator array words raku"><span>&lt;</span></span><span class="string array words raku"><span>right</span></span><span class="span keyword operator array words raku"><span>&gt;</span></span><span>&nbsp;</span><span class="meta block raku"><span class="punctuation definition block raku"><span>{</span></span><span>&nbsp;</span><span class="string quoted double raku"><span class="punctuation definition string begin raku"><span>&quot;</span></span><span>(</span><span class="variable other identifier interpolated raku"><span class="variable other identifier sigil raku"><span>$</span></span><span>a</span></span><span>,&nbsp;</span><span class="variable other identifier interpolated raku"><span class="variable other identifier sigil raku"><span>$</span></span><span>b</span></span><span>)</span><span class="punctuation definition string end raku"><span>&quot;</span></span></span><span>&nbsp;</span><span class="punctuation definition block raku"><span>}</span></span></span></span></div><div class="line"><span class="source raku"><span class="support function raku"><span>say</span></span><span>&nbsp;[</span><span class="routine name raku"><span>foo</span></span><span>]&nbsp;</span><span class="constant numeric raku"><span>1</span></span><span>,&nbsp;</span><span class="constant numeric raku"><span>2</span></span><span>,&nbsp;</span><span class="constant numeric raku"><span>3</span></span><span>,&nbsp;</span><span class="constant numeric raku"><span>4</span></span><span>;&nbsp;</span><span class="comment line number-sign raku"><span class="punctuation definition comment raku"><span>#</span></span><span>&nbsp;OUTPUT:&nbsp;«(1,&nbsp;(2,&nbsp;(3,&nbsp;4)))␤»</span><span>&nbsp;</span></span></span></div><div class="line"><span class="source raku"><span>&nbsp;</span></span></div><div class="line"><span class="source raku"><span class="storage type declarator type raku"><span>sub</span></span><span>&nbsp;</span><span class="entity name function raku"><span>infix</span></span><span class="punctuation definition function adverb raku"><span>:</span></span><span class="span keyword operator array words raku"><span>&lt;</span></span><span class="string array words raku"><span>bar</span></span><span class="span keyword operator array words raku"><span>&gt;</span></span><span>(</span><span class="meta variable container raku"><span class="variable other identifier sigil raku"><span>$</span></span><span class="variable other identifier raku"><span>a</span></span></span><span>,&nbsp;</span><span class="meta variable container raku"><span class="variable other identifier sigil raku"><span>$</span></span><span class="variable other identifier raku"><span>b</span></span></span><span>)&nbsp;</span><span class="storage modifier type constraints raku"><span>is</span></span><span>&nbsp;</span><span class="entity name type trait raku"><span>assoc</span></span><span class="span keyword operator array words raku"><span>&lt;</span></span><span class="string array words raku"><span>left</span></span><span class="span keyword operator array words raku"><span>&gt;</span></span><span>&nbsp;</span><span class="meta block raku"><span class="punctuation definition block raku"><span>{</span></span><span>&nbsp;</span><span class="string quoted double raku"><span class="punctuation definition string begin raku"><span>&quot;</span></span><span>(</span><span class="variable other identifier interpolated raku"><span class="variable other identifier sigil raku"><span>$</span></span><span>a</span></span><span>,&nbsp;</span><span class="variable other identifier interpolated raku"><span class="variable other identifier sigil raku"><span>$</span></span><span>b</span></span><span>)</span><span class="punctuation definition string end raku"><span>&quot;</span></span></span><span>&nbsp;</span><span class="punctuation definition block raku"><span>}</span></span></span></span></div><div class="line"><span class="source raku"><span class="support function raku"><span>say</span></span><span>&nbsp;[</span><span class="routine name raku"><span>bar</span></span><span>]&nbsp;</span><span class="constant numeric raku"><span>1</span></span><span>,&nbsp;</span><span class="constant numeric raku"><span>2</span></span><span>,&nbsp;</span><span class="constant numeric raku"><span>3</span></span><span>,&nbsp;</span><span class="constant numeric raku"><span>4</span></span><span>;&nbsp;</span><span class="comment line number-sign raku"><span class="punctuation definition comment raku"><span>#</span></span><span>&nbsp;OUTPUT:&nbsp;«(((1,&nbsp;2),&nbsp;3),&nbsp;4)␤»</span></span></span></div></pre><p><strong>Practical example 1:</strong> In this example, we generate a random-ish math formula (e.g., &quot;(4 + ((3 * x) + 11) / 6))&quot;) using <code>reduce</code>.</p>
<pre class="editor editor-colors"><div class="line"><span class="source raku"><span class="storage modifier declarator raku"><span>my</span></span><span>&nbsp;</span><span class="meta variable container raku"><span class="variable other identifier sigil raku"><span>@</span></span><span class="variable other identifier raku"><span>ops</span></span></span><span>&nbsp;</span><span class="storage modifier assignment raku"><span>=</span></span><span>&nbsp;[</span><span class="keyword operator word raku"><span>Z</span></span><span>]&nbsp;(</span><span class="span keyword operator array words raku"><span>&lt;</span></span><span class="string array words raku"><span>+&nbsp;-&nbsp;*&nbsp;/</span></span><span class="span keyword operator array words raku"><span>&gt;</span></span><span>,&nbsp;</span><span class="constant numeric raku"><span>1</span></span><span class="keyword operator multi-symbol raku"><span>..</span></span><span class="constant numeric raku"><span>20</span></span><span>)»</span><span class="keyword operator generic raku"><span>.</span></span><span class="routine name raku"><span>roll</span></span><span>(</span><span class="constant numeric raku"><span>4</span></span><span>);</span></span></div><div class="line"><span class="source raku"><span>&nbsp;</span></span></div><div class="line"><span class="source raku"><span class="support function raku"><span>say</span></span><span>&nbsp;(</span><span class="string quoted single single raku"><span class="punctuation definition string begin raku"><span>&#39;</span></span><span>x</span><span class="punctuation definition string end raku"><span>&#39;</span></span></span><span>,&nbsp;</span><span class="keyword operator generic raku"><span>|</span></span><span class="meta variable container raku"><span class="variable other identifier sigil raku"><span>@</span></span><span class="variable other identifier raku"><span>ops</span></span></span><span>)</span><span class="keyword operator generic raku"><span>.</span></span><span class="support function raku"><span>reduce</span></span><span class="keyword operator generic raku"><span>:</span></span><span>&nbsp;</span><span class="keyword operator multi-symbol raku"><span>-&gt;</span></span><span>&nbsp;</span><span class="meta variable container raku"><span class="variable other identifier sigil raku"><span>$</span></span><span class="variable other identifier raku"><span>formula</span></span></span><span>,&nbsp;[</span><span class="meta variable container raku"><span class="variable other identifier sigil raku"><span>$</span></span><span class="variable other identifier raku"><span>op</span></span></span><span>,&nbsp;</span><span class="meta variable container raku"><span class="variable other identifier sigil raku"><span>$</span></span><span class="variable other identifier raku"><span>number</span></span></span><span>]&nbsp;</span><span class="meta block raku"><span class="punctuation definition block raku"><span>{</span></span></span></span></div><div class="line"><span class="source raku"><span class="meta block raku"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="support type raku"><span>Bool</span></span><span class="keyword operator generic raku"><span>.</span></span><span class="support function raku"><span>pick</span></span><span>&nbsp;</span><span class="keyword operator multi-symbol raku"><span>??</span></span><span>&nbsp;</span><span class="string quoted double raku"><span class="punctuation definition string begin raku"><span>&quot;</span></span><span>(</span><span class="variable other identifier interpolated raku"><span class="variable other identifier sigil raku"><span>$</span></span><span>formula</span></span><span>&nbsp;</span><span class="variable other identifier interpolated raku"><span class="variable other identifier sigil raku"><span>$</span></span><span>op</span></span><span>&nbsp;</span><span class="variable other identifier interpolated raku"><span class="variable other identifier sigil raku"><span>$</span></span><span>number</span></span><span>)</span><span class="punctuation definition string end raku"><span>&quot;</span></span></span></span></span></div><div class="line"><span class="source raku"><span class="meta block raku"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword operator multi-symbol raku"><span>!!</span></span><span>&nbsp;</span><span class="string quoted double raku"><span class="punctuation definition string begin raku"><span>&quot;</span></span><span>(</span><span class="variable other identifier interpolated raku"><span class="variable other identifier sigil raku"><span>$</span></span><span>number</span></span><span>&nbsp;</span><span class="variable other identifier interpolated raku"><span class="variable other identifier sigil raku"><span>$</span></span><span>op</span></span><span>&nbsp;</span><span class="variable other identifier interpolated raku"><span class="variable other identifier sigil raku"><span>$</span></span><span>formula</span></span><span>)</span><span class="punctuation definition string end raku"><span>&quot;</span></span></span></span></span></div><div class="line"><span class="source raku"><span class="meta block raku"><span class="punctuation definition block raku"><span>}</span></span></span></span></div></pre><p><strong>Practical example 2:</strong> Suppose we have a polynomial represented as a list of integer coefficients, c[n-1], c[n-2], ..., c[0], where c[i] is the coefficient of xi. We can evaluate it using <code>map</code> and <code>reduce</code> as follows:</p>
<pre class="editor editor-colors"><div class="line"><span class="source raku"><span class="storage type declarator type raku"><span>sub</span></span><span>&nbsp;</span><span class="entity name function raku"><span>evaluate</span></span><span>(</span><span class="support type raku"><span>List</span></span><span class="meta adverb definedness raku"><span class="keyword operator adverb raku"><span>:</span></span><span class="keyword other special-method definedness raku"><span>D</span></span></span><span>&nbsp;\</span><span class="routine name raku"><span>c</span></span><span>&nbsp;</span><span class="storage modifier type constraints raku"><span>where</span></span><span>&nbsp;</span><span class="routine name raku"><span>c</span></span><span class="keyword operator generic raku"><span>.</span></span><span class="support function raku"><span>all</span></span><span>&nbsp;</span><span class="keyword operator multi-symbol raku"><span>~~</span></span><span>&nbsp;</span><span class="support type raku"><span>Int</span></span><span>,&nbsp;</span><span class="support type raku"><span>Rat</span></span><span class="meta adverb definedness raku"><span class="keyword operator adverb raku"><span>:</span></span><span class="keyword other special-method definedness raku"><span>D</span></span></span><span>&nbsp;\</span><span class="keyword operator word raku"><span>x</span></span><span>&nbsp;</span><span class="keyword operator multi-symbol raku"><span>--&gt;</span></span><span>&nbsp;</span><span class="support type raku"><span>Rat</span></span><span class="meta adverb definedness raku"><span class="keyword operator adverb raku"><span>:</span></span><span class="keyword other special-method definedness raku"><span>D</span></span></span><span>)&nbsp;</span><span class="meta block raku"><span class="punctuation definition block raku"><span>{</span></span></span></span></div><div class="line"><span class="source raku"><span class="meta block raku"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="storage modifier declarator raku"><span>my</span></span><span>&nbsp;\</span><span class="routine name raku"><span>xi</span></span><span>&nbsp;</span><span class="storage modifier assignment raku"><span>=</span></span><span>&nbsp;(</span><span class="routine name raku"><span>c</span></span><span class="keyword operator generic raku"><span>.</span></span><span class="support function raku"><span>elems</span></span><span>&nbsp;</span><span class="keyword operator multi-symbol raku"><span>^..</span></span><span class="keyword operator generic raku"><span>.</span></span><span>&nbsp;</span><span class="constant numeric raku"><span>0</span></span><span>)</span><span class="keyword operator generic raku"><span>.</span></span><span class="support function raku"><span>map</span></span><span class="keyword operator generic raku"><span>:</span></span><span>&nbsp;</span><span class="keyword operator multi-symbol raku"><span>-&gt;</span></span><span>&nbsp;\</span><span class="routine name raku"><span>i</span></span><span>&nbsp;</span><span class="meta block raku"><span class="punctuation definition block raku"><span>{</span></span><span>&nbsp;</span><span class="keyword operator word raku"><span>x</span></span><span>&nbsp;</span><span class="keyword operator multi-symbol raku"><span>**</span></span><span>&nbsp;</span><span class="routine name raku"><span>i</span></span><span>&nbsp;</span><span class="punctuation definition block raku"><span>}</span></span></span><span>;&nbsp;</span><span class="comment line number-sign raku"><span class="punctuation definition comment raku"><span>#</span></span><span>&nbsp;[x^(n-1),&nbsp;...,&nbsp;x^0]</span><span>&nbsp;</span></span></span></span></div><div class="line"><span class="source raku"><span class="meta block raku"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="storage modifier declarator raku"><span>my</span></span><span>&nbsp;\</span><span class="routine name raku"><span>axi</span></span><span>&nbsp;</span><span class="storage modifier assignment raku"><span>=</span></span><span>&nbsp;[</span><span class="keyword operator generic raku"><span>+</span></span><span>]&nbsp;</span><span class="routine name raku"><span>c</span></span><span>&nbsp;</span><span class="keyword operator word raku"><span>Z</span></span><span class="keyword operator generic raku"><span>*</span></span><span>&nbsp;</span><span class="routine name raku"><span>xi</span></span><span>;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="comment line number-sign raku"><span class="punctuation definition comment raku"><span>#</span></span><span>&nbsp;[c[n-1]*x^(n-1),&nbsp;...,&nbsp;c[*]x^0]</span><span>&nbsp;</span></span></span></span></div><div class="line"><span class="source raku"><span class="meta block raku"><span>&nbsp;&nbsp;&nbsp;&nbsp;[</span><span class="keyword operator generic raku"><span>+</span></span><span>]&nbsp;</span><span class="routine name raku"><span>axi</span></span><span>;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="comment line number-sign raku"><span class="punctuation definition comment raku"><span>#</span></span><span>&nbsp;sum&nbsp;of&nbsp;axi</span><span>&nbsp;</span></span></span></span></div><div class="line"><span class="source raku"><span class="meta block raku"><span class="punctuation definition block raku"><span>}</span></span></span></span></div><div class="line"><span class="source raku"><span>&nbsp;</span></span></div><div class="line"><span class="source raku"><span class="storage modifier declarator raku"><span>my</span></span><span>&nbsp;\</span><span class="routine name raku"><span>c</span></span><span>&nbsp;</span><span class="storage modifier assignment raku"><span>=</span></span><span>&nbsp;</span><span class="constant numeric raku"><span>2</span></span><span>,&nbsp;</span><span class="constant numeric raku"><span>3</span></span><span>,&nbsp;</span><span class="constant numeric raku"><span>1</span></span><span>;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="comment line number-sign raku"><span class="punctuation definition comment raku"><span>#</span></span><span>&nbsp;2x²&nbsp;+&nbsp;3x&nbsp;+&nbsp;1</span><span>&nbsp;</span></span></span></div><div class="line"><span class="source raku"><span class="support function raku"><span>say</span></span><span>&nbsp;</span><span class="routine name raku"><span>evaluate</span></span><span>&nbsp;</span><span class="routine name raku"><span>c</span></span><span>,&nbsp;</span><span class="constant numeric raku"><span>3.0</span></span><span>;&nbsp;&nbsp;&nbsp;</span><span class="comment line number-sign raku"><span class="punctuation definition comment raku"><span>#</span></span><span>&nbsp;OUTPUT:&nbsp;«28␤»</span><span>&nbsp;</span></span></span></div><div class="line"><span class="source raku"><span class="support function raku"><span>say</span></span><span>&nbsp;</span><span class="routine name raku"><span>evaluate</span></span><span>&nbsp;</span><span class="routine name raku"><span>c</span></span><span>,&nbsp;</span><span class="constant numeric raku"><span>10.0</span></span><span>;&nbsp;&nbsp;</span><span class="comment line number-sign raku"><span class="punctuation definition comment raku"><span>#</span></span><span>&nbsp;OUTPUT:&nbsp;«231␤»</span></span></span></div></pre>
        </div>
    </div>

    

    <footer class="pretty-box yellow">
        <p style="display:none;">
            Generated from <a href="https://github.com/Raku/doc/edit/master/doc//">https://github.com/Raku/doc/edit/master/doc//</a>.
        </p>
        <p>
            This is a work in progress to document Raku (formerly known as Perl 6), and
            known to be incomplete.
        </p>
        <p>
            <a href="https://github.com/Raku/doc/blob/master/CONTRIBUTING.md#reporting-bugs">
                Please report any issues
            </a>
            Your contribution is appreciated.
        </p>
        <p>
            This documentation is provided under the terms of the
            <a href="https://raw.githubusercontent.com/Raku/doc/master/LICENSE">
                Artistic License 2.0
            </a>. The Camelia image is
            <a href="https://raw.githubusercontent.com/Raku/mu/master/misc/camelia.txt">
                copyright © 2009 by Larry Wall.
            </a>
            <!-- CREDITS -->
            <!--External Link Image by Zapyon, CCA-SA 4.0. Derived from Wikimedia Foundation https://commons.wikimedia.org/wiki/File:External-link-04-bold-12x12.svg -->
        </p>
    </footer>

    <script type="text/javascript" src="../js/app.js%3Fv=1"></script>
    <script type="text/javascript" src="../js/search.js%3Fv=3"></script>
</body>
</html>
