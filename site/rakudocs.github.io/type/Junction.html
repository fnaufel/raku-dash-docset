<!doctype html>
<html lang="en">
<head>
    <title>class Junction</title>
    <meta charset="UTF-8"/>
    <meta name=viewport content="width=device-width, initial-scale=1">
    <link rel="icon" href="../favicon.ico" type="image/x-icon" />
    <link rel="stylesheet" type="text/css" href="../css/app.css" media="screen" title="default" />
    <noscript> <style> #search { visibility: hidden; } </style> </noscript>
</head>

<body class="pod">

    <div id="___top"></div>

    <div id="header" class="pretty-box green">

        <a href="../index.html">
            <img src="../images/Camelia.svg" alt="»ö«" id="logo" width="62" height="48"/> &nbsp;Raku Documentation
        </a>

        <div id="search" class="ui-widget">
            <div class="green">
                <input placeholder="Loading..." id="query" accesskey="f" title="Enter term to search for (hit Esc to focus)"/>
            </div>
            <p id="not-found-message">
                Not in Index (<a href="Junction.html" id="try-web-search">try site search</a>)
            </p>
        </div>

        <div class="menu">

            <div class="menu-items dark-green">
                <a class='menu-item darker-green' href='https://raku.org'><strong>Raku homepage</strong></a>
                    <a class="menu-item " href="../language.html"> Language </a>
                    <a class="menu-item selected darker-green" href="../type.html"> Types </a>
                    <a class="menu-item " href="../routine.html"> Routines </a>
                    <a class="menu-item " href="../programs.html"> Programs </a>
                    <a class="menu-item " href="https://web.libera.chat/?channel=#raku"> Chat with us </a>
            </div>

            <div class="menu-items darker-green"><div class="menu-items darker-green"><div class="menu-items darker-green"><div class="menu-items darker-green"><div class="menu-items darker-green">
                    <a class="menu-item" href="../type.html"> All </a>
                    <a class="menu-item" href="../type-basic.html"> Basic </a>
                    <a class="menu-item" href="../type-composite.html"> Composite </a>
                    <a class="menu-item" href="../type-domain-specific.html"> Domain-specific </a>
                    <a class="menu-item" href="../type-exception.html"> Exceptions </a>
            </div></div></div></div></div>

        </div>
    </div>

    <div id="content" class="pretty-box yellow content_fragment">

        <div align="right" style="display:;">
            <button title="Edit this page"  class="pencil" onclick="location='https://github.com/Raku/doc/edit/master/doc//Type/Junction.pod6'">
                <svg width="14px" height="16px" viewBox="0 0 14 16" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
                    <defs></defs>
                    <g id="Octicons" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
                        <g id="pencil" fill="#000000">
                            <path d="M0,12 L0,15 L3,15 L11,7 L8,4 L0,12 L0,12 Z M3,14 L1,14 L1,12 L2,12 L2,13 L3,13 L3,14 L3,14 Z M13.3,4.7 L12,6 L9,3 L10.3,1.7 C10.69,1.31 11.32,1.31 11.71,1.7 L13.3,3.29 C13.69,3.68 13.69,4.31 13.3,4.7 L13.3,4.7 Z" id="Shape"></path>
                        </g>
                    </g>
                </svg>
            </button>
        </div>

        <h1 class="title">class Junction</h1>
        <p class="subtitle">Logical superposition of values</p>

        <nav class="indexgroup">
<table id="TOC">
<caption><h2 id="TOC_Title">Table of Contents</h2></caption>
<tr class="toc-level-1"><td class="toc-number">1</td><td class="toc-text"><a href="Junction.html#Failures_and_exceptions">Failures and exceptions</a></td></tr>
<tr class="toc-level-1"><td class="toc-number">2</td><td class="toc-text"><a href="Junction.html#Smartmatching">Smartmatching</a></td></tr>
<tr class="toc-level-1"><td class="toc-number">3</td><td class="toc-text"><a href="Junction.html#Methods">Methods</a></td></tr>
<tr class="toc-level-2"><td class="toc-number">3.1</td><td class="toc-text"><a href="Junction.html#method_new">method new</a></td></tr>
<tr class="toc-level-2"><td class="toc-number">3.2</td><td class="toc-text"><a href="Junction.html#method_defined">method defined</a></td></tr>
<tr class="toc-level-2"><td class="toc-number">3.3</td><td class="toc-text"><a href="Junction.html#method_Bool">method Bool</a></td></tr>
<tr class="toc-level-2"><td class="toc-number">3.4</td><td class="toc-text"><a href="Junction.html#method_Str">method Str</a></td></tr>
<tr class="toc-level-2"><td class="toc-number">3.5</td><td class="toc-text"><a href="Junction.html#method_iterator">method iterator</a></td></tr>
<tr class="toc-level-2"><td class="toc-number">3.6</td><td class="toc-text"><a href="Junction.html#method_gist">method gist</a></td></tr>
<tr class="toc-level-2"><td class="toc-number">3.7</td><td class="toc-text"><a href="Junction.html#method_raku">method raku</a></td></tr>
<tr class="toc-level-2"><td class="toc-number">3.8</td><td class="toc-text"><a href="Junction.html#infix_~">infix <code class="pod-code-inline">~</code></a></td></tr>
<tr class="toc-level-1"><td class="toc-number">4</td><td class="toc-text"><a href="Junction.html#See_Also">See Also</a></td></tr>
<tr class="toc-level-1"><td class="toc-number">5</td><td class="toc-text"><a href="Junction.html#Type_Graph">Type Graph</a></td></tr>

</table>
</nav>

        <div class="pod-body ">
            <pre class="editor editor-colors"><div class="line"><span class="source raku"><span class="meta class raku"><span class="storage type class raku"><span>class</span></span><span>&nbsp;</span><span class="entity name type class raku"><span>Junction</span></span></span><span>&nbsp;</span><span class="storage modifier type constraints raku"><span>is</span></span><span>&nbsp;</span><span class="support type raku"><span>Mu</span></span><span>&nbsp;</span><span class="meta block raku"><span class="punctuation definition block raku"><span>{</span></span><span>&nbsp;</span><span class="punctuation definition block raku"><span>}</span></span></span></span></div></pre><p>A junction is an unordered composite value of zero or more values. Junctions <em>autothread</em> over many operations, which means that the operation is carried out for each junction element (also known as <em>eigenstate</em>), and the result is the junction of the return values of all those operators.</p>
<p>Junctions collapse into a single value in Boolean context, so when used in a conditional, a negation or an explicit coercion to Bool through the <code>so</code> or <code>?</code> prefix operators. The semantics of this collapse depend on the <em>junction type</em>, which can be <code>all</code>, <code>any</code>, <code>one</code> or <code>none</code>.</p>
<table class="pod-table">
<thead><tr>
<th>type</th> <th>constructor</th> <th>operator</th> <th>True if ...</th>
</tr></thead>
<tbody>
<tr> <td>all</td> <td>all</td> <td>&amp;</td> <td>no value evaluates to False</td> </tr> <tr> <td>any</td> <td>any</td> <td>|</td> <td>at least one value evaluates to True</td> </tr> <tr> <td>one</td> <td>one</td> <td>^</td> <td>exactly one value evaluates to True</td> </tr> <tr> <td>none</td> <td>none</td> <td></td> <td>no value evaluates to True</td> </tr>
</tbody>
</table><p>As the table shows, in order to create junctions you use the command that represents the type of <code>Junction</code> followed by any object, or else call <a href="../routine/all.html"><code>.all</code></a>, <a href="../routine/none.html"><code>.none</code></a> or <a href="../routine/one.html"><code>.one</code></a> on the object.</p>
<pre class="editor editor-colors"><div class="line"><span class="source raku"><span class="support function raku"><span>say</span></span><span>&nbsp;</span><span class="keyword operator word raku"><span>so</span></span><span>&nbsp;</span><span class="constant numeric raku"><span>3</span></span><span>&nbsp;</span><span class="keyword operator multi-symbol raku"><span>==</span></span><span>&nbsp;(</span><span class="constant numeric raku"><span>1</span></span><span class="keyword operator multi-symbol raku"><span>..</span></span><span class="constant numeric raku"><span>30</span></span><span>)</span><span class="keyword operator generic raku"><span>.</span></span><span class="support function raku"><span>one</span></span><span>;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="comment line number-sign raku"><span class="punctuation definition comment raku"><span>#</span></span><span>&nbsp;OUTPUT:&nbsp;«True␤»</span><span>&nbsp;</span></span></span></div><div class="line"><span class="source raku"><span class="support function raku"><span>say</span></span><span>&nbsp;</span><span class="keyword operator word raku"><span>so</span></span><span>&nbsp;(</span><span class="string quoted double raku"><span class="punctuation definition string begin raku"><span>&quot;</span></span><span>a</span><span class="punctuation definition string end raku"><span>&quot;</span></span></span><span>&nbsp;</span><span class="keyword operator generic raku"><span>^</span></span><span>&nbsp;</span><span class="string quoted double raku"><span class="punctuation definition string begin raku"><span>&quot;</span></span><span>b</span><span class="punctuation definition string end raku"><span>&quot;</span></span></span><span>&nbsp;</span><span class="keyword operator generic raku"><span>^</span></span><span>&nbsp;</span><span class="string quoted double raku"><span class="punctuation definition string begin raku"><span>&quot;</span></span><span>c</span><span class="punctuation definition string end raku"><span>&quot;</span></span></span><span>)&nbsp;</span><span class="keyword operator word raku"><span>eq</span></span><span>&nbsp;</span><span class="string quoted double raku"><span class="punctuation definition string begin raku"><span>&quot;</span></span><span>a</span><span class="punctuation definition string end raku"><span>&quot;</span></span></span><span>;&nbsp;</span><span class="comment line number-sign raku"><span class="punctuation definition comment raku"><span>#</span></span><span>&nbsp;OUTPUT:&nbsp;«True␤»</span></span></span></div></pre><p>Junctions are very special objects. They fall outside the <code>Any</code> hierarchy, being only, as any other object, subclasses of <code>Mu</code>. That enables a feature for most methods: autothreading. Autothreading happens when a junction is bound to a parameter of a code object that doesn&#39;t accept values of type <code>Junction</code>. Instead of producing an error, the signature binding is repeated for each value of the junction.</p>
<p>Example:</p>
<pre class="editor editor-colors"><div class="line"><span class="source raku"><span class="storage modifier declarator raku"><span>my</span></span><span>&nbsp;</span><span class="meta variable container raku"><span class="variable other identifier sigil raku"><span>$</span></span><span class="variable other identifier raku"><span>j</span></span></span><span>&nbsp;</span><span class="storage modifier assignment raku"><span>=</span></span><span>&nbsp;</span><span class="constant numeric raku"><span>1</span></span><span class="keyword operator generic raku"><span>|</span></span><span>2;</span></span></div><div class="line"><span class="source raku"><span class="keyword control conditional raku"><span>if</span></span><span>&nbsp;</span><span class="constant numeric raku"><span>3</span></span><span>&nbsp;</span><span class="keyword operator multi-symbol raku"><span>==</span></span><span>&nbsp;</span><span class="meta variable container raku"><span class="variable other identifier sigil raku"><span>$</span></span><span class="variable other identifier raku"><span>j</span></span></span><span>&nbsp;</span><span class="keyword operator generic raku"><span>+</span></span><span>&nbsp;</span><span class="constant numeric raku"><span>1</span></span><span>&nbsp;</span><span class="meta block raku"><span class="punctuation definition block raku"><span>{</span></span></span></span></div><div class="line"><span class="source raku"><span class="meta block raku"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="support function raku"><span>say</span></span><span>&nbsp;</span><span class="string quoted single single raku"><span class="punctuation definition string begin raku"><span>&#39;</span></span><span>yes</span><span class="punctuation definition string end raku"><span>&#39;</span></span></span><span>;</span></span></span></div><div class="line"><span class="source raku"><span class="meta block raku"><span class="punctuation definition block raku"><span>}</span></span></span></span></div></pre><p>First autothreads over the <code>infix:&lt;+&gt; </code> operator, producing the Junction <code>2|3</code>. The next autothreading step is over <code>infix:&lt;==&gt; </code>, which produces <code>False|True</code>. The <code>if</code> conditional evaluates the junction in Boolean context, which collapses it to <code>True</code>. So the code prints <code>yes\n</code>.</p>
<p>The type of a <code>Junction</code> does <em>not</em> affect the number of items in the resultant <code>Junction</code> after autothreading. For example, using a <a href="../routine/one.html">one</a> <code>Junction</code> during <a href="Hash.html">Hash</a> key lookup, still results in a <code>Junction</code> with several items. It is only in Boolean context would the type of the <code>Junction</code> come into play:</p>
<pre class="editor editor-colors"><div class="line"><span class="source raku"><span class="storage modifier declarator raku"><span>my</span></span><span>&nbsp;</span><span class="meta variable container raku"><span class="variable other identifier sigil raku"><span>%</span></span><span class="variable other identifier raku"><span>h</span></span></span><span>&nbsp;</span><span class="storage modifier assignment raku"><span>=</span></span><span>&nbsp;</span><span class="keyword operator generic raku"><span>:</span></span><span class="constant numeric raku"><span>42</span></span><span>foo,&nbsp;</span><span class="keyword operator generic raku"><span>:</span></span><span class="constant numeric raku"><span>70</span></span><span>bar;</span></span></div><div class="line"><span class="source raku"><span class="support function raku"><span>say</span></span><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="meta variable container raku"><span class="variable other identifier sigil raku"><span>%</span></span><span class="variable other identifier raku"><span>h</span></span></span><span class="meta block raku"><span class="punctuation definition block raku"><span>{</span></span><span class="support function raku"><span>one</span></span><span>&nbsp;</span><span class="span keyword operator array words raku"><span>&lt;</span></span><span class="string array words raku"><span>foo&nbsp;meow</span></span><span class="span keyword operator array words raku"><span>&gt;</span></span><span class="punctuation definition block raku"><span>}</span></span></span><span class="keyword operator generic raku"><span>:</span></span><span class="support function raku"><span>exists</span></span><span>;&nbsp;</span><span class="comment line number-sign raku"><span class="punctuation definition comment raku"><span>#</span></span><span>&nbsp;OUTPUT:&nbsp;«one(True,&nbsp;False)␤»</span><span>&nbsp;</span></span></span></div><div class="line"><span class="source raku"><span class="support function raku"><span>say</span></span><span>&nbsp;</span><span class="keyword operator word raku"><span>so</span></span><span>&nbsp;</span><span class="meta variable container raku"><span class="variable other identifier sigil raku"><span>%</span></span><span class="variable other identifier raku"><span>h</span></span></span><span class="meta block raku"><span class="punctuation definition block raku"><span>{</span></span><span class="support function raku"><span>one</span></span><span>&nbsp;</span><span class="span keyword operator array words raku"><span>&lt;</span></span><span class="string array words raku"><span>foo&nbsp;meow</span></span><span class="span keyword operator array words raku"><span>&gt;</span></span><span class="punctuation definition block raku"><span>}</span></span></span><span class="keyword operator generic raku"><span>:</span></span><span class="support function raku"><span>exists</span></span><span>;&nbsp;</span><span class="comment line number-sign raku"><span class="punctuation definition comment raku"><span>#</span></span><span>&nbsp;OUTPUT:&nbsp;«True␤»</span><span>&nbsp;</span></span></span></div><div class="line"><span class="source raku"><span class="support function raku"><span>say</span></span><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="meta variable container raku"><span class="variable other identifier sigil raku"><span>%</span></span><span class="variable other identifier raku"><span>h</span></span></span><span class="meta block raku"><span class="punctuation definition block raku"><span>{</span></span><span class="support function raku"><span>one</span></span><span>&nbsp;</span><span class="span keyword operator array words raku"><span>&lt;</span></span><span class="string array words raku"><span>foo&nbsp;&nbsp;bar</span></span><span class="span keyword operator array words raku"><span>&gt;</span></span><span class="punctuation definition block raku"><span>}</span></span></span><span class="keyword operator generic raku"><span>:</span></span><span class="support function raku"><span>exists</span></span><span>;&nbsp;</span><span class="comment line number-sign raku"><span class="punctuation definition comment raku"><span>#</span></span><span>&nbsp;OUTPUT:&nbsp;«one(True,&nbsp;True)␤»</span><span>&nbsp;</span></span></span></div><div class="line"><span class="source raku"><span class="support function raku"><span>say</span></span><span>&nbsp;</span><span class="keyword operator word raku"><span>so</span></span><span>&nbsp;</span><span class="meta variable container raku"><span class="variable other identifier sigil raku"><span>%</span></span><span class="variable other identifier raku"><span>h</span></span></span><span class="meta block raku"><span class="punctuation definition block raku"><span>{</span></span><span class="support function raku"><span>one</span></span><span>&nbsp;</span><span class="span keyword operator array words raku"><span>&lt;</span></span><span class="string array words raku"><span>foo&nbsp;&nbsp;bar</span></span><span class="span keyword operator array words raku"><span>&gt;</span></span><span class="punctuation definition block raku"><span>}</span></span></span><span class="keyword operator generic raku"><span>:</span></span><span class="support function raku"><span>exists</span></span><span>;&nbsp;</span><span class="comment line number-sign raku"><span class="punctuation definition comment raku"><span>#</span></span><span>&nbsp;OUTPUT:&nbsp;«False␤»</span></span></span></div></pre><p>Note that the compiler is allowed, but not required, to parallelize autothreading (and Junction behavior in general), so it is usually an error to autothread junctions over code with side effects.</p>
<p>Autothreading implies that the function that&#39;s autothreaded will also return a Junction of the values that it would usually return.</p>
<pre class="editor editor-colors"><div class="line"><span class="source raku"><span>(</span><span class="constant numeric raku"><span>1</span></span><span class="keyword operator multi-symbol raku"><span>..</span></span><span class="constant numeric raku"><span>3</span></span><span>)</span><span class="keyword operator generic raku"><span>.</span></span><span class="routine name raku"><span>head</span></span><span>(&nbsp;</span><span class="constant numeric raku"><span>2</span></span><span class="keyword operator generic raku"><span>|</span></span><span>3&nbsp;)</span><span class="keyword operator generic raku"><span>.</span></span><span class="support function raku"><span>say</span></span><span>;&nbsp;</span><span class="comment line number-sign raku"><span class="punctuation definition comment raku"><span>#</span></span><span>&nbsp;OUTPUT:&nbsp;«any((1&nbsp;2),&nbsp;(1&nbsp;2&nbsp;3))␤»</span></span></span></div></pre><p>Since <a href="../routine/head.html"><code>.head</code></a> returns a list, the autothreaded version returns a <code>Junction</code> of lists.</p>
<pre class="editor editor-colors"><div class="line"><span class="source raku"><span>(</span><span class="constant numeric raku"><span>1</span></span><span class="keyword operator multi-symbol raku"><span>..</span></span><span class="constant numeric raku"><span>3</span></span><span>)</span><span class="keyword operator generic raku"><span>.</span></span><span class="support function raku"><span>contains</span></span><span>(&nbsp;</span><span class="constant numeric raku"><span>2</span></span><span>&amp;3&nbsp;)</span><span class="keyword operator generic raku"><span>.</span></span><span class="support function raku"><span>say</span></span><span>;&nbsp;</span><span class="comment line number-sign raku"><span class="punctuation definition comment raku"><span>#</span></span><span>&nbsp;OUTPUT:&nbsp;«all(True,&nbsp;True)␤»</span></span></span></div></pre><p>Likewise, <a href="../routine/contains.html"><code>.contains</code></a> returns a Boolean; thus, the autothreaded version returns a <code>Junction</code> of Booleans. In general, all methods and routines that take an argument of type <code>T</code> and return type <code>TT</code>, will also accept junctions of <code>T</code>, returning junctions of <code>TT</code>.</p>
<p>Implementations are allowed to short-circuit Junctions. For example one or more routine calls (<code>a()</code>, <code>b()</code>, or <code>c()</code>) in the code below might not get executed at all, if the result of the conditional has been fully determined from routine calls already performed (only one truthy return value is enough to know the entire Junction is true):</p>
<pre class="editor editor-colors"><div class="line"><span class="source raku"><span class="keyword control conditional raku"><span>if</span></span><span>&nbsp;</span><span class="routine name raku"><span>a</span></span><span>()&nbsp;</span><span class="keyword operator generic raku"><span>|</span></span><span>&nbsp;</span><span class="routine name raku"><span>b</span></span><span>()&nbsp;</span><span class="keyword operator generic raku"><span>|</span></span><span>&nbsp;</span><span class="routine name raku"><span>c</span></span><span>()&nbsp;</span><span class="meta block raku"><span class="punctuation definition block raku"><span>{</span></span></span></span></div><div class="line"><span class="source raku"><span class="meta block raku"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="support function raku"><span>say</span></span><span>&nbsp;</span><span class="string quoted double raku"><span class="punctuation definition string begin raku"><span>&quot;</span></span><span>At&nbsp;least&nbsp;one&nbsp;of&nbsp;the&nbsp;routines&nbsp;was&nbsp;called&nbsp;and&nbsp;returned&nbsp;a&nbsp;truthy&nbsp;value</span><span class="punctuation definition string end raku"><span>&quot;</span></span></span></span></span></div><div class="line"><span class="source raku"><span class="meta block raku"><span class="punctuation definition block raku"><span>}</span></span></span></span></div></pre><p>Junctions are meant to be used as matchers in a Boolean context; introspection of junctions is not supported. If you feel the urge to introspect a junction, use a <a href="Set.html">Set</a> or a related type instead.</p>
<p>Usage examples:</p>
<pre class="editor editor-colors"><div class="line"><span class="source raku"><span class="storage modifier declarator raku"><span>my</span></span><span>&nbsp;</span><span class="meta variable container raku"><span class="variable other identifier sigil raku"><span>@</span></span><span class="variable other identifier raku"><span>list</span></span></span><span>&nbsp;</span><span class="storage modifier assignment raku"><span>=</span></span><span>&nbsp;</span><span class="span keyword operator array words raku"><span>&lt;</span></span><span class="string array words raku"><span>1&nbsp;2&nbsp;&quot;Great&quot;</span></span><span class="span keyword operator array words raku"><span>&gt;</span></span><span>;</span></span></div><div class="line"><span class="source raku"><span class="meta variable container raku"><span class="variable other identifier sigil raku"><span>@</span></span><span class="variable other identifier raku"><span>list</span></span></span><span class="keyword operator generic raku"><span>.</span></span><span class="support function raku"><span>append</span></span><span>(</span><span class="constant language boolean raku"><span>True</span></span><span>)</span><span class="keyword operator generic raku"><span>.</span></span><span class="support function raku"><span>append</span></span><span>(</span><span class="constant language boolean raku"><span>False</span></span><span>);</span></span></div><div class="line"><span class="source raku"><span class="storage modifier declarator raku"><span>my</span></span><span>&nbsp;</span><span class="meta variable container raku"><span class="variable other identifier sigil raku"><span>@</span></span><span class="variable other identifier raku"><span>bool_or_int</span></span></span><span>&nbsp;</span><span class="storage modifier assignment raku"><span>=</span></span><span>&nbsp;</span><span class="support function raku"><span>grep</span></span><span>&nbsp;</span><span class="support type raku"><span>Bool</span></span><span class="keyword operator generic raku"><span>|</span></span><span class="support type raku"><span>Int</span></span><span>,&nbsp;</span><span class="meta variable container raku"><span class="variable other identifier sigil raku"><span>@</span></span><span class="variable other identifier raku"><span>list</span></span></span><span>;</span></span></div><div class="line"><span class="source raku"><span>&nbsp;</span></span></div><div class="line"><span class="source raku"><span class="storage type declarator type raku"><span>sub</span></span><span>&nbsp;</span><span class="entity name function raku"><span>is_prime</span></span><span>(</span><span class="support type raku"><span>Int</span></span><span>&nbsp;</span><span class="meta variable container raku"><span class="variable other identifier sigil raku"><span>$</span></span><span class="variable other identifier raku"><span>x</span></span></span><span>)&nbsp;</span><span class="storage modifier type constraints raku"><span>returns</span></span><span>&nbsp;</span><span class="support type raku"><span>Bool</span></span><span>&nbsp;</span><span class="meta block raku"><span class="punctuation definition block raku"><span>{</span></span></span></span></div><div class="line"><span class="source raku"><span class="meta block raku"><span class="punctuation whitespace comment leading raku"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span class="comment line number-sign raku"><span class="punctuation definition comment raku"><span>#</span></span><span>&nbsp;&#39;so&#39;&nbsp;is&nbsp;for&nbsp;Boolean&nbsp;context</span><span>&nbsp;</span></span></span></span></div><div class="line"><span class="source raku"><span class="meta block raku"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword operator word raku"><span>so</span></span><span>&nbsp;</span><span class="meta variable container raku"><span class="variable other identifier sigil raku"><span>$</span></span><span class="variable other identifier raku"><span>x</span></span></span><span>&nbsp;</span><span class="keyword operator multi-symbol raku"><span>%%</span></span><span>&nbsp;</span><span class="support function raku"><span>none</span></span><span>(</span><span class="constant numeric raku"><span>2</span></span><span class="keyword operator multi-symbol raku"><span>..</span></span><span class="meta variable container raku"><span class="variable other identifier sigil raku"><span>$</span></span><span class="variable other identifier raku"><span>x</span></span></span><span class="keyword operator generic raku"><span>.</span></span><span class="support function raku"><span>sqrt</span></span><span>);</span></span></span></div><div class="line"><span class="source raku"><span class="meta block raku"><span class="punctuation definition block raku"><span>}</span></span></span></span></div><div class="line"><span class="source raku"><span class="storage modifier declarator raku"><span>my</span></span><span>&nbsp;</span><span class="meta variable container raku"><span class="variable other identifier sigil raku"><span>@</span></span><span class="variable other identifier raku"><span>primes_ending_in_1</span></span></span><span>&nbsp;</span><span class="storage modifier assignment raku"><span>=</span></span><span>&nbsp;</span><span class="support function raku"><span>grep</span></span><span>&nbsp;</span><span class="meta variable container raku"><span class="variable other identifier sigil raku"><span>&amp;</span></span><span class="variable other identifier raku"><span>is_prime</span></span></span><span>&nbsp;&amp;&nbsp;</span><span class="keyword operator generic raku"><span>/</span></span><span>&nbsp;</span><span class="constant numeric raku"><span>1</span></span><span class="keyword other special-method raku"><span>$</span></span><span>&nbsp;</span><span class="keyword operator generic raku"><span>/</span></span><span>,&nbsp;</span><span class="constant numeric raku"><span>2</span></span><span class="keyword operator multi-symbol raku"><span>..</span></span><span class="constant numeric raku"><span>100</span></span><span>;</span></span></div><div class="line"><span class="source raku"><span class="support function raku"><span>say</span></span><span>&nbsp;</span><span class="meta variable container raku"><span class="variable other identifier sigil raku"><span>@</span></span><span class="variable other identifier raku"><span>primes_ending_in_1</span></span></span><span>;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="comment line number-sign raku"><span class="punctuation definition comment raku"><span>#</span></span><span>&nbsp;OUTPUT:&nbsp;«[11&nbsp;31&nbsp;41&nbsp;61&nbsp;71]␤»</span><span>&nbsp;</span></span></span></div><div class="line"><span class="source raku"><span>&nbsp;</span></span></div><div class="line"><span class="source raku"><span class="storage modifier declarator raku"><span>my</span></span><span>&nbsp;</span><span class="meta variable container raku"><span class="variable other identifier sigil raku"><span>@</span></span><span class="variable other identifier raku"><span>exclude</span></span></span><span>&nbsp;</span><span class="storage modifier assignment raku"><span>=</span></span><span>&nbsp;</span><span class="span keyword operator array words raku"><span>&lt;</span></span><span class="string array words raku"><span>~&nbsp;.git</span></span><span class="span keyword operator array words raku"><span>&gt;</span></span><span>;</span></span></div><div class="line"><span class="source raku"><span class="keyword control repeat raku"><span>for</span></span><span>&nbsp;</span><span class="routine name raku"><span>dir</span></span><span>(</span><span class="string quoted double raku"><span class="punctuation definition string begin raku"><span>&quot;</span></span><span>.</span><span class="punctuation definition string end raku"><span>&quot;</span></span></span><span>)&nbsp;</span><span class="meta block raku"><span class="punctuation definition block raku"><span>{</span></span><span>&nbsp;</span><span class="support function raku"><span>say</span></span><span>&nbsp;</span><span class="keyword operator generic raku"><span>.</span></span><span class="support type raku"><span>Str</span></span><span>&nbsp;</span><span class="keyword control conditional raku"><span>if</span></span><span>&nbsp;</span><span class="keyword operator generic raku"><span>.</span></span><span class="support type raku"><span>Str</span></span><span class="keyword operator generic raku"><span>.</span></span><span class="support function raku"><span>ends-with</span></span><span>(</span><span class="support function raku"><span>none</span></span><span>&nbsp;</span><span class="meta variable container raku"><span class="variable other identifier sigil raku"><span>@</span></span><span class="variable other identifier raku"><span>exclude</span></span></span><span>)&nbsp;</span><span class="punctuation definition block raku"><span>}</span></span></span></span></div></pre><p>Special care should be taken when using <code>all</code> with arguments that may produce an empty list:</p>
<pre class="editor editor-colors"><div class="line"><span class="source raku"><span class="storage modifier declarator raku"><span>my</span></span><span>&nbsp;</span><span class="meta variable container raku"><span class="variable other identifier sigil raku"><span>@</span></span><span class="variable other identifier raku"><span>a</span></span></span><span>&nbsp;</span><span class="storage modifier assignment raku"><span>=</span></span><span>&nbsp;();</span></span></div><div class="line"><span class="source raku"><span class="support function raku"><span>say</span></span><span>&nbsp;</span><span class="keyword operator word raku"><span>so</span></span><span>&nbsp;</span><span class="support function raku"><span>all</span></span><span>(</span><span class="meta variable container raku"><span class="variable other identifier sigil raku"><span>@</span></span><span class="variable other identifier raku"><span>a</span></span></span><span>)&nbsp;</span><span class="comment line number-sign raku"><span class="punctuation definition comment raku"><span>#</span></span><span>&nbsp;True,&nbsp;because&nbsp;there&nbsp;are&nbsp;0&nbsp;Falses</span></span></span></div></pre><p>To express &quot;all, but at least one&quot;, you can use <code>@a &amp;&amp; all(@a)</code></p>
<pre class="editor editor-colors"><div class="line"><span class="source raku"><span class="storage modifier declarator raku"><span>my</span></span><span>&nbsp;</span><span class="meta variable container raku"><span class="variable other identifier sigil raku"><span>@</span></span><span class="variable other identifier raku"><span>a</span></span></span><span>&nbsp;</span><span class="storage modifier assignment raku"><span>=</span></span><span>&nbsp;();</span></span></div><div class="line"><span class="source raku"><span class="support function raku"><span>say</span></span><span>&nbsp;</span><span class="keyword operator word raku"><span>so</span></span><span>&nbsp;</span><span class="meta variable container raku"><span class="variable other identifier sigil raku"><span>@</span></span><span class="variable other identifier raku"><span>a</span></span></span><span>&nbsp;</span><span class="keyword operator multi-symbol raku"><span>&amp;&amp;</span></span><span>&nbsp;</span><span class="support function raku"><span>all</span></span><span>(</span><span class="meta variable container raku"><span class="variable other identifier sigil raku"><span>@</span></span><span class="variable other identifier raku"><span>a</span></span></span><span>);&nbsp;&nbsp;&nbsp;</span><span class="comment line number-sign raku"><span class="punctuation definition comment raku"><span>#</span></span><span>&nbsp;OUTPUT:&nbsp;«False␤»</span></span></span></div></pre><p>Negated operators are special-cased when it comes to autothreading. <code>$a !op $b</code> is rewritten internally as <code>!($a op $b)</code>. The outer negation collapses any junctions, so the return value always a plain <a href="Bool.html">Bool</a>.</p>
<pre class="editor editor-colors"><div class="line"><span class="source raku"><span class="storage modifier declarator raku"><span>my</span></span><span>&nbsp;</span><span class="meta variable container raku"><span class="variable other identifier sigil raku"><span>$</span></span><span class="variable other identifier raku"><span>word</span></span></span><span>&nbsp;</span><span class="storage modifier assignment raku"><span>=</span></span><span>&nbsp;</span><span class="string quoted single single raku"><span class="punctuation definition string begin raku"><span>&#39;</span></span><span>yes</span><span class="punctuation definition string end raku"><span>&#39;</span></span></span><span>;</span></span></div><div class="line"><span class="source raku"><span class="storage modifier declarator raku"><span>my</span></span><span>&nbsp;</span><span class="meta variable container raku"><span class="variable other identifier sigil raku"><span>@</span></span><span class="variable other identifier raku"><span>negations</span></span></span><span>&nbsp;</span><span class="storage modifier assignment raku"><span>=</span></span><span>&nbsp;</span><span class="span keyword operator array words raku"><span>&lt;</span></span><span class="string array words raku"><span>no&nbsp;none&nbsp;never</span></span><span class="span keyword operator array words raku"><span>&gt;</span></span><span>;</span></span></div><div class="line"><span class="source raku"><span class="keyword control conditional raku"><span>if</span></span><span>&nbsp;</span><span class="meta variable container raku"><span class="variable other identifier sigil raku"><span>$</span></span><span class="variable other identifier raku"><span>word</span></span></span><span>&nbsp;</span><span class="keyword operator generic raku"><span>!</span></span><span class="keyword operator word raku"><span>eq</span></span><span>&nbsp;</span><span class="support function raku"><span>any</span></span><span>&nbsp;</span><span class="meta variable container raku"><span class="variable other identifier sigil raku"><span>@</span></span><span class="variable other identifier raku"><span>negations</span></span></span><span>&nbsp;</span><span class="meta block raku"><span class="punctuation definition block raku"><span>{</span></span></span></span></div><div class="line"><span class="source raku"><span class="meta block raku"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="support function raku"><span>say</span></span><span>&nbsp;</span><span class="string quoted single single raku"><span class="punctuation definition string begin raku"><span>&#39;</span></span><span>&quot;yes&quot;&nbsp;is&nbsp;not&nbsp;a&nbsp;negation</span><span class="punctuation definition string end raku"><span>&#39;</span></span></span><span>;</span></span></span></div><div class="line"><span class="source raku"><span class="meta block raku"><span class="punctuation definition block raku"><span>}</span></span></span></span></div></pre><p>Note that without this special-casing, an expression like <code>$word ne any @words</code> would always evaluate to <code>True</code> for non-trivial lists on one side.</p>
<p>For this purpose, <code>infix:&lt;ne&gt; </code> counts as a negation of <code>infix:&lt;eq&gt; </code>.</p>
<p>In general it is more readable to use a positive comparison operator and a negated junction:</p>
<pre class="editor editor-colors"><div class="line"><span class="source raku"><span class="storage modifier declarator raku"><span>my</span></span><span>&nbsp;</span><span class="meta variable container raku"><span class="variable other identifier sigil raku"><span>$</span></span><span class="variable other identifier raku"><span>word</span></span></span><span>&nbsp;</span><span class="storage modifier assignment raku"><span>=</span></span><span>&nbsp;</span><span class="string quoted single single raku"><span class="punctuation definition string begin raku"><span>&#39;</span></span><span>yes</span><span class="punctuation definition string end raku"><span>&#39;</span></span></span><span>;</span></span></div><div class="line"><span class="source raku"><span class="storage modifier declarator raku"><span>my</span></span><span>&nbsp;</span><span class="meta variable container raku"><span class="variable other identifier sigil raku"><span>@</span></span><span class="variable other identifier raku"><span>negations</span></span></span><span>&nbsp;</span><span class="storage modifier assignment raku"><span>=</span></span><span>&nbsp;</span><span class="span keyword operator array words raku"><span>&lt;</span></span><span class="string array words raku"><span>no&nbsp;none&nbsp;never</span></span><span class="span keyword operator array words raku"><span>&gt;</span></span><span>;</span></span></div><div class="line"><span class="source raku"><span class="keyword control conditional raku"><span>if</span></span><span>&nbsp;</span><span class="meta variable container raku"><span class="variable other identifier sigil raku"><span>$</span></span><span class="variable other identifier raku"><span>word</span></span></span><span>&nbsp;</span><span class="keyword operator word raku"><span>eq</span></span><span>&nbsp;</span><span class="support function raku"><span>none</span></span><span>&nbsp;</span><span class="meta variable container raku"><span class="variable other identifier sigil raku"><span>@</span></span><span class="variable other identifier raku"><span>negations</span></span></span><span>&nbsp;</span><span class="meta block raku"><span class="punctuation definition block raku"><span>{</span></span></span></span></div><div class="line"><span class="source raku"><span class="meta block raku"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="support function raku"><span>say</span></span><span>&nbsp;</span><span class="string quoted single single raku"><span class="punctuation definition string begin raku"><span>&#39;</span></span><span>&quot;yes&quot;&nbsp;is&nbsp;not&nbsp;a&nbsp;negation</span><span class="punctuation definition string end raku"><span>&#39;</span></span></span><span>;</span></span></span></div><div class="line"><span class="source raku"><span class="meta block raku"><span class="punctuation definition block raku"><span>}</span></span></span></span></div></pre><h1 id="Failures_and_exceptions"><a class="u" href="Junction.html#___top" title="go to top of document">Failures and exceptions</a></h1>
<p><a href="Failure.html">Failures</a> are just values like any other, as far as Junctions are concerned:</p>
<pre class="editor editor-colors"><div class="line"><span class="source raku"><span class="storage modifier declarator raku"><span>my</span></span><span>&nbsp;</span><span class="meta variable container raku"><span class="variable other identifier sigil raku"><span>$</span></span><span class="variable other identifier raku"><span>j</span></span></span><span>&nbsp;</span><span class="storage modifier assignment raku"><span>=</span></span><span>&nbsp;</span><span class="keyword operator generic raku"><span>+</span></span><span class="support function raku"><span>any</span></span><span>&nbsp;</span><span class="string quoted double raku"><span class="punctuation definition string begin raku"><span>&quot;</span></span><span>not&nbsp;a&nbsp;number</span><span class="punctuation definition string end raku"><span>&quot;</span></span></span><span>,&nbsp;</span><span class="string quoted double raku"><span class="punctuation definition string begin raku"><span>&quot;</span></span><span>42</span><span class="punctuation definition string end raku"><span>&quot;</span></span></span><span>,&nbsp;</span><span class="string quoted double raku"><span class="punctuation definition string begin raku"><span>&quot;</span></span><span>2.1</span><span class="punctuation definition string end raku"><span>&quot;</span></span></span><span>;</span></span></div><div class="line"><span class="source raku"><span class="storage modifier declarator raku"><span>my</span></span><span>&nbsp;</span><span class="meta variable container raku"><span class="variable other identifier sigil raku"><span>@</span></span><span class="variable other identifier raku"><span>list</span></span></span><span>&nbsp;</span><span class="storage modifier assignment raku"><span>=</span></span><span>&nbsp;</span><span class="keyword control repeat raku"><span>gather</span></span><span>&nbsp;</span><span class="keyword control repeat raku"><span>for</span></span><span>&nbsp;</span><span class="meta variable container raku"><span class="variable other identifier sigil raku"><span>$</span></span><span class="variable other identifier raku"><span>j</span></span></span><span>&nbsp;</span><span class="keyword operator multi-symbol raku"><span>-&gt;</span></span><span>&nbsp;</span><span class="meta variable container raku"><span class="variable other identifier sigil raku"><span>$</span></span><span class="variable other identifier raku"><span>e</span></span></span><span>&nbsp;</span><span class="meta block raku"><span class="punctuation definition block raku"><span>{</span></span></span></span></div><div class="line"><span class="source raku"><span class="meta block raku"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword control flowcontrol raku"><span>take</span></span><span>&nbsp;</span><span class="meta variable container raku"><span class="variable other identifier sigil raku"><span>$</span></span><span class="variable other identifier raku"><span>e</span></span></span><span>&nbsp;</span><span class="keyword control conditional raku"><span>if</span></span><span>&nbsp;</span><span class="meta variable container raku"><span class="variable other identifier sigil raku"><span>$</span></span><span class="variable other identifier raku"><span>e</span></span></span><span class="keyword operator generic raku"><span>.</span></span><span class="support function raku"><span>defined</span></span><span>;</span></span></span></div><div class="line"><span class="source raku"><span class="meta block raku"><span class="punctuation definition block raku"><span>}</span></span></span></span></div><div class="line"><span class="source raku"><span class="meta variable container raku"><span class="variable other identifier sigil raku"><span>@</span></span><span class="variable other identifier raku"><span>list</span></span></span><span class="keyword operator generic raku"><span>.</span></span><span class="support function raku"><span>say</span></span><span>;&nbsp;</span><span class="comment line number-sign raku"><span class="punctuation definition comment raku"><span>#</span></span><span>&nbsp;OUTPUT:&nbsp;«[42&nbsp;2.1]␤»</span></span></span></div></pre><p>Above, we&#39;ve used prefix <code>+</code> operator on a <a href="Junction.html">Junction</a> to coerce the strings inside of it to <a href="Numeric.html">Numeric</a>. Since the operator returns a <a href="Failure.html">Failure</a> when a <a href="Str.html">Str</a> that doesn&#39;t contain a number gets coerced to <code>Numeric</code>, one of the elements in the <code>Junction</code> is a <code>Failure</code>. Failures do not turn into exceptions until they are used or sunk, but we can check for definedness to avoid that. That is what we do in the loop that runs over the elements of the junction, adding them to a list only if they are defined.</p>
<p>The exception <em>will</em> be thrown, if you try to use the <code>Failure</code> as a value—just like as if this <code>Failure</code> were on its own and not part of the <code>Junction</code>:</p>
<pre class="editor editor-colors"><div class="line"><span class="source raku"><span class="storage modifier declarator raku"><span>my</span></span><span>&nbsp;</span><span class="meta variable container raku"><span class="variable other identifier sigil raku"><span>$</span></span><span class="variable other identifier raku"><span>j</span></span></span><span>&nbsp;</span><span class="storage modifier assignment raku"><span>=</span></span><span>&nbsp;</span><span class="keyword operator generic raku"><span>+</span></span><span class="support function raku"><span>any</span></span><span>&nbsp;</span><span class="string quoted double raku"><span class="punctuation definition string begin raku"><span>&quot;</span></span><span>not&nbsp;a&nbsp;number</span><span class="punctuation definition string end raku"><span>&quot;</span></span></span><span>,&nbsp;</span><span class="string quoted double raku"><span class="punctuation definition string begin raku"><span>&quot;</span></span><span>42</span><span class="punctuation definition string end raku"><span>&quot;</span></span></span><span>,&nbsp;</span><span class="string quoted double raku"><span class="punctuation definition string begin raku"><span>&quot;</span></span><span>2.1</span><span class="punctuation definition string end raku"><span>&quot;</span></span></span><span>;</span></span></div><div class="line"><span class="source raku"><span class="keyword control control-handlers raku"><span>try</span></span><span>&nbsp;</span><span class="support function raku"><span>say</span></span><span>&nbsp;</span><span class="meta variable container raku"><span class="variable other identifier sigil raku"><span>$</span></span><span class="variable other identifier raku"><span>j</span></span></span><span>&nbsp;</span><span class="keyword operator multi-symbol raku"><span>==</span></span><span>&nbsp;</span><span class="constant numeric raku"><span>42</span></span><span>;</span></span></div><div class="line"><span class="source raku"><span class="keyword other special-method raku"><span>$!</span></span><span>&nbsp;</span><span class="keyword operator word raku"><span>and</span></span><span>&nbsp;</span><span class="support function raku"><span>say</span></span><span>&nbsp;</span><span class="string quoted double raku"><span class="punctuation definition string begin raku"><span>&quot;</span></span><span>Got&nbsp;exception:&nbsp;$!.^name()</span><span class="punctuation definition string end raku"><span>&quot;</span></span></span><span>;</span></span></div><div class="line"><span class="source raku"><span class="comment line number-sign raku"><span class="punctuation definition comment raku"><span>#</span></span><span>&nbsp;OUTPUT:&nbsp;«Got&nbsp;exception:&nbsp;X::Str::Numeric␤»</span><span>&nbsp;</span></span></span></div></pre><p>Note that if an exception gets thrown when <em>any</em> of the values in a <a href="Junction.html">Junction</a> get computed, it will be thrown just as if the problematic value were computed on its own and not with a <code>Junction</code>; you can&#39;t just compute the values that work while ignoring exceptions:</p>
<pre class="editor editor-colors"><div class="line"><span class="source raku"><span class="storage type declarator type raku"><span>sub</span></span><span>&nbsp;</span><span class="entity name function raku"><span>calc</span></span><span>&nbsp;(</span><span class="meta variable container raku"><span class="variable other identifier sigil raku"><span>$</span></span><span class="variable other identifier raku"><span>_</span></span></span><span>)&nbsp;</span><span class="meta block raku"><span class="punctuation definition block raku"><span>{</span></span><span>&nbsp;</span><span class="keyword control control-handlers raku"><span>die</span></span><span>&nbsp;</span><span class="keyword control flowcontrol raku"><span>when</span></span><span>&nbsp;</span><span class="constant numeric raku"><span>13</span></span><span>&nbsp;</span><span class="punctuation definition block raku"><span>}</span></span></span></span></div><div class="line"><span class="source raku"><span class="storage modifier declarator raku"><span>my</span></span><span>&nbsp;</span><span class="meta variable container raku"><span class="variable other identifier sigil raku"><span>$</span></span><span class="variable other identifier raku"><span>j</span></span></span><span>&nbsp;</span><span class="storage modifier assignment raku"><span>=</span></span><span>&nbsp;</span><span class="support function raku"><span>any</span></span><span>&nbsp;</span><span class="constant numeric raku"><span>1</span></span><span class="keyword operator multi-symbol raku"><span>..</span></span><span class="constant numeric raku"><span>42</span></span><span>;</span></span></div><div class="line"><span class="source raku"><span class="support function raku"><span>say</span></span><span>&nbsp;</span><span class="keyword control control-handlers raku"><span>try</span></span><span>&nbsp;</span><span class="routine name raku"><span>calc</span></span><span>&nbsp;</span><span class="meta variable container raku"><span class="variable other identifier sigil raku"><span>$</span></span><span class="variable other identifier raku"><span>j</span></span></span><span>;&nbsp;</span><span class="comment line number-sign raku"><span class="punctuation definition comment raku"><span>#</span></span><span>&nbsp;OUTPUT:&nbsp;«Nil␤»</span></span></span></div></pre><p>Only one value above causes an exception, but the result of the <a href="../language/exceptions.html#try_blocks"><code>try</code> block</a> is still a <a href="Nil.html">Nil</a>. A possible way around it is to cheat and evaluate the values of the <code>Junction</code> individually and then re-create the <code>Junction</code> from the result:</p>
<pre class="editor editor-colors"><div class="line"><span class="source raku"><span class="storage type declarator type raku"><span>sub</span></span><span>&nbsp;</span><span class="entity name function raku"><span>calc</span></span><span>&nbsp;(</span><span class="meta variable container raku"><span class="variable other identifier sigil raku"><span>$</span></span><span class="variable other identifier raku"><span>_</span></span></span><span>)&nbsp;</span><span class="meta block raku"><span class="punctuation definition block raku"><span>{</span></span><span>&nbsp;</span><span class="keyword control control-handlers raku"><span>die</span></span><span>&nbsp;</span><span class="keyword control flowcontrol raku"><span>when</span></span><span>&nbsp;</span><span class="constant numeric raku"><span>13</span></span><span>&nbsp;</span><span class="punctuation definition block raku"><span>}</span></span></span></span></div><div class="line"><span class="source raku"><span class="storage modifier declarator raku"><span>my</span></span><span>&nbsp;</span><span class="meta variable container raku"><span class="variable other identifier sigil raku"><span>$</span></span><span class="variable other identifier raku"><span>j</span></span></span><span>&nbsp;</span><span class="storage modifier assignment raku"><span>=</span></span><span>&nbsp;</span><span class="support function raku"><span>any</span></span><span>&nbsp;</span><span class="constant numeric raku"><span>1</span></span><span class="keyword operator multi-symbol raku"><span>..</span></span><span class="constant numeric raku"><span>42</span></span><span>;</span></span></div><div class="line"><span class="source raku"><span class="meta variable container raku"><span class="variable other identifier sigil raku"><span>$</span></span><span class="variable other identifier raku"><span>j</span></span></span><span>&nbsp;</span><span class="storage modifier assignment raku"><span>=</span></span><span>&nbsp;</span><span class="support function raku"><span>any</span></span><span>&nbsp;(</span><span class="keyword control repeat raku"><span>gather</span></span><span>&nbsp;</span><span class="meta variable container raku"><span class="variable other identifier sigil raku"><span>$</span></span><span class="variable other identifier raku"><span>j</span></span></span><span>»</span><span class="keyword operator generic raku"><span>.</span></span><span class="routine name raku"><span>take</span></span><span>)</span><span class="keyword operator generic raku"><span>.</span></span><span class="support function raku"><span>grep</span></span><span class="keyword operator generic raku"><span>:</span></span><span>&nbsp;</span><span class="meta block raku"><span class="punctuation definition block raku"><span>{</span></span><span class="support type raku"><span>Nil</span></span><span>&nbsp;</span><span class="keyword operator generic raku"><span>!</span></span><span class="keyword operator multi-symbol raku"><span>===</span></span><span>&nbsp;</span><span class="keyword control control-handlers raku"><span>try</span></span><span>&nbsp;</span><span class="routine name raku"><span>calc</span></span><span>&nbsp;</span><span class="meta variable container raku"><span class="variable other identifier sigil raku"><span>$</span></span><span class="variable other identifier raku"><span>_</span></span></span><span class="punctuation definition block raku"><span>}</span></span></span><span>;</span></span></div><div class="line"><span class="source raku"><span class="support function raku"><span>say</span></span><span>&nbsp;</span><span class="keyword operator word raku"><span>so</span></span><span>&nbsp;</span><span class="meta variable container raku"><span class="variable other identifier sigil raku"><span>$</span></span><span class="variable other identifier raku"><span>j</span></span></span><span>&nbsp;</span><span class="keyword operator multi-symbol raku"><span>==</span></span><span>&nbsp;</span><span class="constant numeric raku"><span>42</span></span><span>;&nbsp;</span><span class="comment line number-sign raku"><span class="punctuation definition comment raku"><span>#</span></span><span>&nbsp;OUTPUT:&nbsp;«True␤»</span></span></span></div></pre><h1 id="Smartmatching"><a class="u" href="Junction.html#___top" title="go to top of document">Smartmatching</a></h1>
<p>Note that using <code>Junction</code>s on the right-hand side of <code>~~</code> works slightly differently than using Junctions with other operators.</p>
<p>Consider this example:</p>
<pre class="editor editor-colors"><div class="line"><span class="source raku"><span class="support function raku"><span>say</span></span><span>&nbsp;</span><span class="constant numeric raku"><span>25</span></span><span>&nbsp;</span><span class="keyword operator multi-symbol raku"><span>==</span></span><span>&nbsp;(</span><span class="constant numeric raku"><span>25</span></span><span>&nbsp;</span><span class="keyword operator generic raku"><span>|</span></span><span>&nbsp;</span><span class="constant numeric raku"><span>42</span></span><span>);&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="comment line number-sign raku"><span class="punctuation definition comment raku"><span>#</span></span><span>&nbsp;OUTPUT:&nbsp;«any(True,&nbsp;False)␤»&nbsp;–&nbsp;Junction</span><span>&nbsp;</span></span></span></div><div class="line"><span class="source raku"><span class="support function raku"><span>say</span></span><span>&nbsp;</span><span class="constant numeric raku"><span>25</span></span><span>&nbsp;</span><span class="keyword operator multi-symbol raku"><span>~~</span></span><span>&nbsp;(</span><span class="constant numeric raku"><span>25</span></span><span>&nbsp;</span><span class="keyword operator generic raku"><span>|</span></span><span>&nbsp;</span><span class="constant numeric raku"><span>42</span></span><span>);&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="comment line number-sign raku"><span class="punctuation definition comment raku"><span>#</span></span><span>&nbsp;OUTPUT:&nbsp;«True␤»&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;–&nbsp;Bool</span></span></span></div></pre><p>The reason is that <code>==</code> (and most other operators) are subject to auto-threading, and therefore you will get a Junction as a result. On the other hand, <code>~~</code> will call <code>.ACCEPTS</code> on the right-hand-side (in this case on a Junction) and the result will be a <code>Bool</code>.</p>
<h1 id="Methods"><a class="u" href="Junction.html#___top" title="go to top of document">Methods</a></h1>
<h2 id="method_new"><a class="u" href="Junction.html#___top" title="go to top of document">method new</a></h2>
<p>Defined as:</p>
<pre class="editor editor-colors"><div class="line"><span class="source raku"><span class="storage type declarator multi raku"><span>multi</span></span><span>&nbsp;</span><span class="storage type declarator type raku"><span>method</span></span><span>&nbsp;</span><span class="entity name function raku"><span>new</span></span><span>(</span><span class="support type raku"><span>Junction</span></span><span class="keyword operator generic raku"><span>:</span></span><span>&nbsp;\</span><span class="routine name raku"><span>values</span></span><span>,&nbsp;</span><span class="support type raku"><span>Str</span></span><span>&nbsp;</span><span class="keyword operator generic raku"><span>:</span></span><span class="meta variable container raku"><span class="variable other identifier sigil raku"><span>$</span></span><span class="variable other identifier raku"><span>type</span></span></span><span class="keyword operator generic raku"><span>!</span></span><span>)</span></span></div><div class="line"><span class="source raku"><span class="storage type declarator multi raku"><span>multi</span></span><span>&nbsp;</span><span class="storage type declarator type raku"><span>method</span></span><span>&nbsp;</span><span class="entity name function raku"><span>new</span></span><span>(</span><span class="support type raku"><span>Junction</span></span><span class="keyword operator generic raku"><span>:</span></span><span>&nbsp;</span><span class="support type raku"><span>Str</span></span><span class="meta adverb definedness raku"><span class="keyword operator adverb raku"><span>:</span></span><span class="keyword other special-method definedness raku"><span>D</span></span></span><span>&nbsp;\</span><span class="routine name raku"><span>type</span></span><span>,&nbsp;\</span><span class="routine name raku"><span>values</span></span><span>)</span></span></div></pre><p>These constructors build a new junction from the type that defines it and a set of values.</p>
<pre class="editor editor-colors"><div class="line"><span class="source raku"><span class="storage modifier declarator raku"><span>my</span></span><span>&nbsp;</span><span class="meta variable container raku"><span class="variable other identifier sigil raku"><span>$</span></span><span class="variable other identifier raku"><span>j</span></span></span><span>&nbsp;</span><span class="storage modifier assignment raku"><span>=</span></span><span>&nbsp;</span><span class="support type raku"><span>Junction</span></span><span class="keyword operator generic raku"><span>.</span></span><span class="support function raku"><span>new</span></span><span>(</span><span class="span keyword operator array words raku"><span>&lt;</span></span><span class="string array words raku"><span>Þor&nbsp;Oðinn&nbsp;Loki</span></span><span class="span keyword operator array words raku"><span>&gt;</span></span><span>,&nbsp;</span><span class="string pair key raku"><span>type&nbsp;</span></span><span class="keyword operator multi-symbol raku"><span>=&gt;</span></span><span>&nbsp;</span><span class="string quoted double raku"><span class="punctuation definition string begin raku"><span>&quot;</span></span><span>all</span><span class="punctuation definition string end raku"><span>&quot;</span></span></span><span>);</span></span></div><div class="line"><span class="source raku"><span class="storage modifier declarator raku"><span>my</span></span><span>&nbsp;</span><span class="meta variable container raku"><span class="variable other identifier sigil raku"><span>$</span></span><span class="variable other identifier raku"><span>n</span></span></span><span>&nbsp;</span><span class="storage modifier assignment raku"><span>=</span></span><span>&nbsp;</span><span class="support type raku"><span>Junction</span></span><span class="keyword operator generic raku"><span>.</span></span><span class="support function raku"><span>new</span></span><span>(&nbsp;</span><span class="string quoted double raku"><span class="punctuation definition string begin raku"><span>&quot;</span></span><span>one</span><span class="punctuation definition string end raku"><span>&quot;</span></span></span><span>,&nbsp;</span><span class="constant numeric raku"><span>1</span></span><span class="keyword operator multi-symbol raku"><span>..</span></span><span class="constant numeric raku"><span>6</span></span><span>&nbsp;)</span></span></div></pre><p>The main difference between the two multis is how the type of the <code>Junction</code> is passed as an argument; either positionally as the first argument, or as a named argument using <code>type</code>.</p>
<h2 id="method_defined"><a class="u" href="Junction.html#___top" title="go to top of document">method defined</a></h2>
<p>Defined as:</p>
<pre class="editor editor-colors"><div class="line"><span class="source raku"><span class="storage type declarator multi raku"><span>multi</span></span><span>&nbsp;</span><span class="storage type declarator type raku"><span>method</span></span><span>&nbsp;</span><span class="entity name function raku"><span>defined</span></span><span>(</span><span class="support type raku"><span>Junction</span></span><span class="meta adverb definedness raku"><span class="keyword operator adverb raku"><span>:</span></span><span class="keyword other special-method definedness raku"><span>D</span></span></span><span class="keyword operator generic raku"><span>:</span></span><span>)</span></span></div></pre><p>Checks for definedness instead of Boolean values.</p>
<pre class="editor editor-colors"><div class="line"><span class="source raku"><span class="support function raku"><span>say</span></span><span>&nbsp;(&nbsp;</span><span class="constant numeric raku"><span>3</span></span><span>&nbsp;</span><span class="keyword operator generic raku"><span>|</span></span><span>&nbsp;</span><span class="support type raku"><span>Str</span></span><span>)</span><span class="keyword operator generic raku"><span>.</span></span><span class="support function raku"><span>defined</span></span><span>&nbsp;;&nbsp;&nbsp;&nbsp;</span><span class="comment line number-sign raku"><span class="punctuation definition comment raku"><span>#</span></span><span>&nbsp;OUTPUT:&nbsp;«True␤»</span><span>&nbsp;</span></span></span></div><div class="line"><span class="source raku"><span class="support function raku"><span>say</span></span><span>&nbsp;(</span><span class="support function raku"><span>one</span></span><span>&nbsp;</span><span class="constant numeric raku"><span>3</span></span><span>,&nbsp;</span><span class="support type raku"><span>Str</span></span><span>)</span><span class="keyword operator generic raku"><span>.</span></span><span class="support function raku"><span>defined</span></span><span>;&nbsp;&nbsp;</span><span class="comment line number-sign raku"><span class="punctuation definition comment raku"><span>#</span></span><span>&nbsp;OUTPUT:&nbsp;«True␤»</span><span>&nbsp;</span></span></span></div><div class="line"><span class="source raku"><span class="support function raku"><span>say</span></span><span>&nbsp;(</span><span class="support function raku"><span>none</span></span><span>&nbsp;</span><span class="constant numeric raku"><span>3</span></span><span>,&nbsp;</span><span class="support type raku"><span>Str</span></span><span>)</span><span class="keyword operator generic raku"><span>.</span></span><span class="support function raku"><span>defined</span></span><span>;&nbsp;</span><span class="comment line number-sign raku"><span class="punctuation definition comment raku"><span>#</span></span><span>&nbsp;OUTPUT:&nbsp;«False␤»</span></span></span></div></pre><p><code>Failure</code>s are also considered non-defined:</p>
<pre class="editor editor-colors"><div class="line"><span class="source raku"><span class="storage modifier declarator raku"><span>my</span></span><span>&nbsp;</span><span class="meta variable container raku"><span class="variable other identifier sigil raku"><span>$</span></span><span class="variable other identifier raku"><span>foo</span></span></span><span class="storage modifier assignment raku"><span>=</span></span><span class="support type exception raku"><span>Failure</span></span><span class="keyword operator generic raku"><span>.</span></span><span class="support function raku"><span>new</span></span><span>;</span></span></div><div class="line"><span class="source raku"><span class="support function raku"><span>say</span></span><span>&nbsp;(</span><span class="support function raku"><span>one</span></span><span>&nbsp;</span><span class="constant numeric raku"><span>3</span></span><span>,&nbsp;</span><span class="meta variable container raku"><span class="variable other identifier sigil raku"><span>$</span></span><span class="variable other identifier raku"><span>foo</span></span></span><span>)</span><span class="keyword operator generic raku"><span>.</span></span><span class="support function raku"><span>defined</span></span><span>;&nbsp;</span><span class="comment line number-sign raku"><span class="punctuation definition comment raku"><span>#</span></span><span>&nbsp;OUTPUT:&nbsp;«True␤»</span></span></span></div></pre><p>Since 6.d, this method will autothread.</p>
<h2 id="method_Bool"><a class="u" href="Junction.html#___top" title="go to top of document">method Bool</a></h2>
<p>Defined as:</p>
<pre class="editor editor-colors"><div class="line"><span class="source raku"><span class="storage type declarator multi raku"><span>multi</span></span><span>&nbsp;</span><span class="storage type declarator type raku"><span>method</span></span><span>&nbsp;</span><span class="entity name function raku"><span>Bool</span></span><span>(</span><span class="support type raku"><span>Junction</span></span><span class="meta adverb definedness raku"><span class="keyword operator adverb raku"><span>:</span></span><span class="keyword other special-method definedness raku"><span>D</span></span></span><span class="keyword operator generic raku"><span>:</span></span><span>)</span></span></div></pre><p>Collapses the <code>Junction</code> and returns a single Boolean value according to the type and the values it holds. Every element is transformed to <code>Bool</code>.</p>
<pre class="editor editor-colors"><div class="line"><span class="source raku"><span class="storage modifier declarator raku"><span>my</span></span><span>&nbsp;</span><span class="meta variable container raku"><span class="variable other identifier sigil raku"><span>$</span></span><span class="variable other identifier raku"><span>n</span></span></span><span>&nbsp;</span><span class="storage modifier assignment raku"><span>=</span></span><span>&nbsp;</span><span class="support type raku"><span>Junction</span></span><span class="keyword operator generic raku"><span>.</span></span><span class="support function raku"><span>new</span></span><span>(&nbsp;</span><span class="string quoted double raku"><span class="punctuation definition string begin raku"><span>&quot;</span></span><span>one</span><span class="punctuation definition string end raku"><span>&quot;</span></span></span><span>,&nbsp;</span><span class="constant numeric raku"><span>1</span></span><span class="keyword operator multi-symbol raku"><span>..</span></span><span class="constant numeric raku"><span>6</span></span><span>&nbsp;);</span></span></div><div class="line"><span class="source raku"><span class="support function raku"><span>say</span></span><span>&nbsp;</span><span class="meta variable container raku"><span class="variable other identifier sigil raku"><span>$</span></span><span class="variable other identifier raku"><span>n</span></span></span><span class="keyword operator generic raku"><span>.</span></span><span class="support type raku"><span>Bool</span></span><span>;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="comment line number-sign raku"><span class="punctuation definition comment raku"><span>#</span></span><span>&nbsp;OUTPUT:&nbsp;«False␤»</span><span>&nbsp;</span></span></span></div></pre><p>All elements in this case are converted to <code>True</code>, so it&#39;s false to assert that only one of them is.</p>
<pre class="editor editor-colors"><div class="line"><span class="source raku"><span class="storage modifier declarator raku"><span>my</span></span><span>&nbsp;</span><span class="meta variable container raku"><span class="variable other identifier sigil raku"><span>$</span></span><span class="variable other identifier raku"><span>n</span></span></span><span>&nbsp;</span><span class="storage modifier assignment raku"><span>=</span></span><span>&nbsp;</span><span class="support type raku"><span>Junction</span></span><span class="keyword operator generic raku"><span>.</span></span><span class="support function raku"><span>new</span></span><span>(&nbsp;</span><span class="string quoted double raku"><span class="punctuation definition string begin raku"><span>&quot;</span></span><span>one</span><span class="punctuation definition string end raku"><span>&quot;</span></span></span><span>,</span><span>&nbsp;</span><span class="span keyword operator array words raku"><span>&lt;</span></span><span class="string array words raku"><span>0&nbsp;1</span></span><span class="span keyword operator array words raku"><span>&gt;</span></span><span>&nbsp;);</span></span></div><div class="line"><span class="source raku"><span class="support function raku"><span>say</span></span><span>&nbsp;</span><span class="meta variable container raku"><span class="variable other identifier sigil raku"><span>$</span></span><span class="variable other identifier raku"><span>n</span></span></span><span class="keyword operator generic raku"><span>.</span></span><span class="support type raku"><span>Bool</span></span><span>;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="comment line number-sign raku"><span class="punctuation definition comment raku"><span>#</span></span><span>&nbsp;OUTPUT:&nbsp;«True␤»</span><span>&nbsp;</span></span></span></div></pre><p>Just one of them is truish in this case, <code>1</code>, so the coercion to <code>Bool</code> returns <code>True</code>.</p>
<h2 id="method_Str"><a class="u" href="Junction.html#___top" title="go to top of document">method Str</a></h2>
<p>Defined as:</p>
<pre class="editor editor-colors"><div class="line"><span class="source raku"><span class="storage type declarator multi raku"><span>multi</span></span><span>&nbsp;</span><span class="storage type declarator type raku"><span>method</span></span><span>&nbsp;</span><span class="entity name function raku"><span>Str</span></span><span>(</span><span class="support type raku"><span>Junction</span></span><span class="meta adverb definedness raku"><span class="keyword operator adverb raku"><span>:</span></span><span class="keyword other special-method definedness raku"><span>D</span></span></span><span class="keyword operator generic raku"><span>:</span></span><span>)</span></span></div></pre><p>Autothreads the <code>.Str</code> method over its elements and returns results as a <a href="Junction.html">Junction</a>. Output methods that use <code>.Str</code> method (<a href="../routine/print.html">print</a> and <a href="../routine/put.html">put</a>) are special-cased to autothread junctions, despite being able to accept a <a href="Mu.html">Mu</a> type.</p>
<h2 id="method_iterator"><a class="u" href="Junction.html#___top" title="go to top of document">method iterator</a></h2>
<p>Defined as:</p>
<pre class="editor editor-colors"><div class="line"><span class="source raku"><span class="storage type declarator multi raku"><span>multi</span></span><span>&nbsp;</span><span class="storage type declarator type raku"><span>method</span></span><span>&nbsp;</span><span class="entity name function raku"><span>iterator</span></span><span>(</span><span class="support type raku"><span>Junction</span></span><span class="meta adverb definedness raku"><span class="keyword operator adverb raku"><span>:</span></span><span class="keyword other special-method definedness raku"><span>D</span></span></span><span class="keyword operator generic raku"><span>:</span></span><span>)</span></span></div></pre><p>Returns an iterator over the <code>Junction</code> converted to a <code>List</code>.</p>
<h2 id="method_gist"><a class="u" href="Junction.html#___top" title="go to top of document">method gist</a></h2>
<p>Defined as:</p>
<pre class="editor editor-colors"><div class="line"><span class="source raku"><span class="storage type declarator multi raku"><span>multi</span></span><span>&nbsp;</span><span class="storage type declarator type raku"><span>method</span></span><span>&nbsp;</span><span class="entity name function raku"><span>gist</span></span><span>(</span><span class="support type raku"><span>Junction</span></span><span class="meta adverb definedness raku"><span class="keyword operator adverb raku"><span>:</span></span><span class="keyword other special-method definedness raku"><span>D</span></span></span><span class="keyword operator generic raku"><span>:</span></span><span>)</span></span></div></pre><p>Collapses the <a href="Junction.html">Junction</a> and returns a <a href="Str.html">Str</a> composed of the type of the junction and the <a href="../routine/gist.html">gists</a> of its components:</p>
<pre class="editor editor-colors"><div class="line"><span class="source raku"><span class="span keyword operator array words raku"><span>&lt;</span></span><span class="string array words raku"><span>a&nbsp;42&nbsp;c</span></span><span class="span keyword operator array words raku"><span>&gt;</span></span><span class="keyword operator generic raku"><span>.</span></span><span class="support function raku"><span>all</span></span><span class="keyword operator generic raku"><span>.</span></span><span class="support function raku"><span>say</span></span><span>;&nbsp;</span><span class="comment line number-sign raku"><span class="punctuation definition comment raku"><span>#</span></span><span>&nbsp;OUTPUT:&nbsp;«all(a,&nbsp;42,&nbsp;c)␤»</span></span></span></div></pre><h2 id="method_raku"><a class="u" href="Junction.html#___top" title="go to top of document">method raku</a></h2>
<p>Defined as:</p>
<pre class="editor editor-colors"><div class="line"><span class="source raku"><span class="storage type declarator multi raku"><span>multi</span></span><span>&nbsp;</span><span class="storage type declarator type raku"><span>method</span></span><span>&nbsp;</span><span class="entity name function raku"><span>raku</span></span><span>(</span><span class="support type raku"><span>Junction</span></span><span class="meta adverb definedness raku"><span class="keyword operator adverb raku"><span>:</span></span><span class="keyword other special-method definedness raku"><span>D</span></span></span><span class="keyword operator generic raku"><span>:</span></span><span>)</span></span></div></pre><p>Collapses the <a href="Junction.html">Junction</a> and returns a <a href="Str.html">Str</a> composed of <a href="../routine/raku.html">raku</a> of its components that <a href="../routine/EVAL.html">evaluates</a> to the equivalent <a href="Junction.html">Junction</a> with equivalent components:</p>
<pre class="editor editor-colors"><div class="line"><span class="source raku"><span class="span keyword operator array words raku"><span>&lt;</span></span><span class="string array words raku"><span>a&nbsp;42&nbsp;c</span></span><span class="span keyword operator array words raku"><span>&gt;</span></span><span class="keyword operator generic raku"><span>.</span></span><span class="support function raku"><span>all</span></span><span class="keyword operator generic raku"><span>.</span></span><span class="routine name raku"><span>raku</span></span><span class="keyword operator generic raku"><span>.</span></span><span class="support function raku"><span>put</span></span><span>;&nbsp;</span><span class="comment line number-sign raku"><span class="punctuation definition comment raku"><span>#</span></span><span>&nbsp;OUTPUT:&nbsp;«all(&quot;a&quot;,&nbsp;IntStr.new(42,&nbsp;&quot;42&quot;),&nbsp;&quot;c&quot;)␤»</span></span></span></div></pre><h2 id="infix_~"><a class="u" href="Junction.html#___top" title="go to top of document">infix <code>~</code></a></h2>
<p>Defined as:</p>
<pre class="editor editor-colors"><div class="line"><span class="source raku"><span class="storage type declarator multi raku"><span>multi</span></span><span>&nbsp;</span><span class="storage type declarator type raku"><span>sub</span></span><span>&nbsp;</span><span class="entity name function raku"><span>infix</span></span><span class="punctuation definition function adverb raku"><span>:</span></span><span class="span keyword operator array words raku"><span>&lt;</span></span><span class="string array words raku"><span>~</span></span><span class="span keyword operator array words raku"><span>&gt;</span></span><span>(</span><span class="support type raku"><span>Str</span></span><span class="meta adverb definedness raku"><span class="keyword operator adverb raku"><span>:</span></span><span class="keyword other special-method definedness raku"><span>D</span></span></span><span>&nbsp;</span><span class="meta variable container raku"><span class="variable other identifier sigil raku"><span>$</span></span><span class="variable other identifier raku"><span>a</span></span></span><span>,&nbsp;</span><span class="support type raku"><span>Junction</span></span><span class="meta adverb definedness raku"><span class="keyword operator adverb raku"><span>:</span></span><span class="keyword other special-method definedness raku"><span>D</span></span></span><span>&nbsp;</span><span class="meta variable container raku"><span class="variable other identifier sigil raku"><span>$</span></span><span class="variable other identifier raku"><span>b</span></span></span><span>)</span></span></div><div class="line"><span class="source raku"><span class="storage type declarator multi raku"><span>multi</span></span><span>&nbsp;</span><span class="storage type declarator type raku"><span>sub</span></span><span>&nbsp;</span><span class="entity name function raku"><span>infix</span></span><span class="punctuation definition function adverb raku"><span>:</span></span><span class="span keyword operator array words raku"><span>&lt;</span></span><span class="string array words raku"><span>~</span></span><span class="span keyword operator array words raku"><span>&gt;</span></span><span>(</span><span class="support type raku"><span>Junction</span></span><span class="meta adverb definedness raku"><span class="keyword operator adverb raku"><span>:</span></span><span class="keyword other special-method definedness raku"><span>D</span></span></span><span>&nbsp;</span><span class="meta variable container raku"><span class="variable other identifier sigil raku"><span>$</span></span><span class="variable other identifier raku"><span>a</span></span></span><span>,&nbsp;</span><span class="support type raku"><span>Str</span></span><span class="meta adverb definedness raku"><span class="keyword operator adverb raku"><span>:</span></span><span class="keyword other special-method definedness raku"><span>D</span></span></span><span>&nbsp;</span><span class="meta variable container raku"><span class="variable other identifier sigil raku"><span>$</span></span><span class="variable other identifier raku"><span>b</span></span></span><span>)</span></span></div><div class="line"><span class="source raku"><span class="storage type declarator multi raku"><span>multi</span></span><span>&nbsp;</span><span class="storage type declarator type raku"><span>sub</span></span><span>&nbsp;</span><span class="entity name function raku"><span>infix</span></span><span class="punctuation definition function adverb raku"><span>:</span></span><span class="span keyword operator array words raku"><span>&lt;</span></span><span class="string array words raku"><span>~</span></span><span class="span keyword operator array words raku"><span>&gt;</span></span><span>(</span><span class="support type raku"><span>Junction</span></span><span class="meta adverb definedness raku"><span class="keyword operator adverb raku"><span>:</span></span><span class="keyword other special-method definedness raku"><span>D</span></span></span><span>&nbsp;\</span><span class="routine name raku"><span>a</span></span><span>,&nbsp;</span><span class="support type raku"><span>Junction</span></span><span class="meta adverb definedness raku"><span class="keyword operator adverb raku"><span>:</span></span><span class="keyword other special-method definedness raku"><span>D</span></span></span><span>&nbsp;\</span><span class="routine name raku"><span>b</span></span><span>)</span></span></div></pre><p>The infix <code>~</code> concatenation can be used to merge junctions into a single one or merge Junctions with strings. The resulting junction will have all elements merged as if they were joined into a nested loop:</p>
<pre class="editor editor-colors"><div class="line"><span class="source raku"><span class="storage modifier declarator raku"><span>my</span></span><span>&nbsp;</span><span class="meta variable container raku"><span class="variable other identifier sigil raku"><span>$</span></span><span class="variable other identifier raku"><span>odd</span></span></span><span>&nbsp;&nbsp;</span><span class="storage modifier assignment raku"><span>=</span></span><span>&nbsp;</span><span class="constant numeric raku"><span>1</span></span><span class="keyword operator generic raku"><span>|</span></span><span>3</span><span class="keyword operator generic raku"><span>|</span></span><span>5;</span></span></div><div class="line"><span class="source raku"><span class="storage modifier declarator raku"><span>my</span></span><span>&nbsp;</span><span class="meta variable container raku"><span class="variable other identifier sigil raku"><span>$</span></span><span class="variable other identifier raku"><span>even</span></span></span><span>&nbsp;</span><span class="storage modifier assignment raku"><span>=</span></span><span>&nbsp;</span><span class="constant numeric raku"><span>2</span></span><span class="keyword operator generic raku"><span>|</span></span><span>4</span><span class="keyword operator generic raku"><span>|</span></span><span>6;</span></span></div><div class="line"><span class="source raku"><span>&nbsp;</span></span></div><div class="line"><span class="source raku"><span class="storage modifier declarator raku"><span>my</span></span><span>&nbsp;</span><span class="meta variable container raku"><span class="variable other identifier sigil raku"><span>$</span></span><span class="variable other identifier raku"><span>merged</span></span></span><span>&nbsp;</span><span class="storage modifier assignment raku"><span>=</span></span><span>&nbsp;</span><span class="meta variable container raku"><span class="variable other identifier sigil raku"><span>$</span></span><span class="variable other identifier raku"><span>odd</span></span></span><span>&nbsp;</span><span class="keyword operator generic raku"><span>~</span></span><span>&nbsp;</span><span class="meta variable container raku"><span class="variable other identifier sigil raku"><span>$</span></span><span class="variable other identifier raku"><span>even</span></span></span><span>;</span></span></div><div class="line"><span class="source raku"><span class="support function raku"><span>say</span></span><span>&nbsp;</span><span class="meta variable container raku"><span class="variable other identifier sigil raku"><span>$</span></span><span class="variable other identifier raku"><span>merged</span></span></span><span>;&nbsp;</span><span class="comment line number-sign raku"><span class="punctuation definition comment raku"><span>#</span></span><span>&nbsp;OUTPUT:&nbsp;«any(12,&nbsp;14,&nbsp;16,&nbsp;32,&nbsp;34,&nbsp;36,&nbsp;52,&nbsp;54,&nbsp;56)␤»</span><span>&nbsp;</span></span></span></div><div class="line"><span class="source raku"><span>&nbsp;</span></span></div><div class="line"><span class="source raku"><span class="support function raku"><span>say</span></span><span>&nbsp;</span><span class="string quoted double raku"><span class="punctuation definition string begin raku"><span>&quot;</span></span><span>Found&nbsp;34!</span><span class="punctuation definition string end raku"><span>&quot;</span></span></span><span>&nbsp;</span><span class="keyword control conditional raku"><span>if</span></span><span>&nbsp;</span><span class="constant numeric raku"><span>34</span></span><span>&nbsp;</span><span class="keyword operator multi-symbol raku"><span>==</span></span><span>&nbsp;</span><span class="meta variable container raku"><span class="variable other identifier sigil raku"><span>$</span></span><span class="variable other identifier raku"><span>merged</span></span></span><span>;&nbsp;</span><span class="comment line number-sign raku"><span class="punctuation definition comment raku"><span>#</span></span><span>&nbsp;OUTPUT:&nbsp;«Found&nbsp;34!␤»</span><span>&nbsp;</span></span></span></div><div class="line"><span class="source raku"><span class="storage modifier declarator raku"><span>my</span></span><span>&nbsp;</span><span class="meta variable container raku"><span class="variable other identifier sigil raku"><span>$</span></span><span class="variable other identifier raku"><span>prefixed</span></span></span><span>&nbsp;</span><span class="storage modifier assignment raku"><span>=</span></span><span>&nbsp;</span><span class="string quoted double raku"><span class="punctuation definition string begin raku"><span>&quot;</span></span><span>0</span><span class="punctuation definition string end raku"><span>&quot;</span></span></span><span>&nbsp;</span><span class="keyword operator generic raku"><span>~</span></span><span>&nbsp;</span><span class="meta variable container raku"><span class="variable other identifier sigil raku"><span>$</span></span><span class="variable other identifier raku"><span>odd</span></span></span><span>;</span></span></div><div class="line"><span class="source raku"><span class="support function raku"><span>say</span></span><span>&nbsp;</span><span class="string quoted double raku"><span class="punctuation definition string begin raku"><span>&quot;</span></span><span>Found&nbsp;03</span><span class="punctuation definition string end raku"><span>&quot;</span></span></span><span>&nbsp;</span><span class="keyword control conditional raku"><span>if</span></span><span>&nbsp;</span><span class="string quoted double raku"><span class="punctuation definition string begin raku"><span>&quot;</span></span><span>03</span><span class="punctuation definition string end raku"><span>&quot;</span></span></span><span>&nbsp;</span><span class="keyword operator multi-symbol raku"><span>==</span></span><span>&nbsp;</span><span class="meta variable container raku"><span class="variable other identifier sigil raku"><span>$</span></span><span class="variable other identifier raku"><span>prefixed</span></span></span><span>;&nbsp;</span><span class="comment line number-sign raku"><span class="punctuation definition comment raku"><span>#</span></span><span>&nbsp;OUTPUT:&nbsp;«Found&nbsp;03!␤»</span><span>&nbsp;</span></span></span></div><div class="line"><span class="source raku"><span>&nbsp;</span></span></div><div class="line"><span class="source raku"><span class="storage modifier declarator raku"><span>my</span></span><span>&nbsp;</span><span class="meta variable container raku"><span class="variable other identifier sigil raku"><span>$</span></span><span class="variable other identifier raku"><span>postfixed</span></span></span><span>&nbsp;</span><span class="storage modifier assignment raku"><span>=</span></span><span>&nbsp;</span><span class="meta variable container raku"><span class="variable other identifier sigil raku"><span>$</span></span><span class="variable other identifier raku"><span>odd</span></span></span><span>&nbsp;</span><span class="keyword operator generic raku"><span>~</span></span><span>&nbsp;</span><span class="string quoted double raku"><span class="punctuation definition string begin raku"><span>&quot;</span></span><span>1</span><span class="punctuation definition string end raku"><span>&quot;</span></span></span><span>;</span></span></div><div class="line"><span class="source raku"><span class="support function raku"><span>say</span></span><span>&nbsp;</span><span class="string quoted double raku"><span class="punctuation definition string begin raku"><span>&quot;</span></span><span>Found&nbsp;11</span><span class="punctuation definition string end raku"><span>&quot;</span></span></span><span>&nbsp;</span><span class="keyword control conditional raku"><span>if</span></span><span>&nbsp;</span><span class="constant numeric raku"><span>11</span></span><span>&nbsp;</span><span class="keyword operator multi-symbol raku"><span>==</span></span><span>&nbsp;</span><span class="meta variable container raku"><span class="variable other identifier sigil raku"><span>$</span></span><span class="variable other identifier raku"><span>postfixed</span></span></span><span>;&nbsp;</span><span class="comment line number-sign raku"><span class="punctuation definition comment raku"><span>#</span></span><span>&nbsp;OUTPUT:&nbsp;«Found&nbsp;11!␤»</span><span>&nbsp;</span></span></span></div></pre><p>On the other hand, the versions of <code>~</code> that use a string as one argument will just concatenate the string to every member of the Junction, creating another Junction with the same number of elements.</p>
<h1 id="See_Also"><a class="u" href="Junction.html#___top" title="go to top of document">See Also</a></h1>
<ul><li><p><a href="https://perlgeek.de/blog-en/perl-5-to-6/08-junctions.html">https://perlgeek.de/blog-en/perl-5-to-6/08-junctions.html</a></p>
</li>
<li><p><a href="http://perl6maven.com/perl6-is-a-value-in-a-given-list-of-values">http://perl6maven.com/perl6-is-a-value-in-a-given-list-of-values</a></p>
</li>
<li><p><a href="https://perl6advent.wordpress.com/2009/12/13/day-13-junctions/">https://perl6advent.wordpress.com/2009/12/13/day-13-junctions/</a></p>
</li>
</ul>
<h1 id="Type_Graph"><a class="u" href="Junction.html#___top" title="go to top of document">Type Graph</a></h1>
<figure>
  <figcaption>Type relations for <code>Junction</code></figcaption>
  <svg width="96pt" height="116pt"
 viewBox="0.00 0.00 96.39 116.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 112)">
<title>perl6&#45;type&#45;graph</title>
<polygon fill="white" stroke="none" points="-4,4 -4,-112 92.3922,-112 92.3922,4 -4,4"/>
<!-- Junction -->
<g id="node1" class="node"><title>Junction</title>
<g id="a_node1"><a xlink:href="/type/Junction" xlink:title="Junction">
<ellipse fill="none" stroke="#000000" cx="44.1961" cy="-18" rx="44.393" ry="18"/>
<text text-anchor="middle" x="44.1961" y="-14.3" font-family="FreeSans" font-size="14.00" fill="#000000">Junction</text>
</a>
</g>
</g>
<!-- Mu -->
<g id="node2" class="node"><title>Mu</title>
<g id="a_node2"><a xlink:href="/type/Mu" xlink:title="Mu">
<ellipse fill="none" stroke="#000000" cx="44.1961" cy="-90" rx="27" ry="18"/>
<text text-anchor="middle" x="44.1961" y="-86.3" font-family="FreeSans" font-size="14.00" fill="#000000">Mu</text>
</a>
</g>
</g>
<!-- Junction&#45;&gt;Mu -->
<g id="edge1" class="edge"><title>Junction&#45;&gt;Mu</title>
<path fill="none" stroke="#000000" d="M44.1961,-36.3034C44.1961,-44.0173 44.1961,-53.2875 44.1961,-61.8876"/>
<polygon fill="#000000" stroke="#000000" points="40.6962,-61.8956 44.1961,-71.8957 47.6962,-61.8957 40.6962,-61.8956"/>
</g>
</g>
</svg>

  <p class="fallback">
    <a
      rel="alternate"
      href="../images/type-graph-Junction.svg"
      type="image/svg+xml"
      >Expand above chart</a
    >
  </p>
</figure>

        </div>
    </div>

    

    <footer class="pretty-box yellow">
        <p style="display:;">
            Generated from <a href="https://github.com/Raku/doc/edit/master/doc//Type/Junction.pod6">https://github.com/Raku/doc/edit/master/doc//Type/Junction.pod6</a>.
        </p>
        <p>
            This is a work in progress to document Raku (formerly known as Perl 6), and
            known to be incomplete.
        </p>
        <p>
            <a href="https://github.com/Raku/doc/blob/master/CONTRIBUTING.md#reporting-bugs">
                Please report any issues
            </a>
            Your contribution is appreciated.
        </p>
        <p>
            This documentation is provided under the terms of the
            <a href="https://raw.githubusercontent.com/Raku/doc/master/LICENSE">
                Artistic License 2.0
            </a>. The Camelia image is
            <a href="https://raw.githubusercontent.com/Raku/mu/master/misc/camelia.txt">
                copyright © 2009 by Larry Wall.
            </a>
            <!-- CREDITS -->
            <!--External Link Image by Zapyon, CCA-SA 4.0. Derived from Wikimedia Foundation https://commons.wikimedia.org/wiki/File:External-link-04-bold-12x12.svg -->
        </p>
    </footer>

    <script type="text/javascript" src="../js/app.js%3Fv=1"></script>
    <script type="text/javascript" src="../js/search.js%3Fv=3"></script>
</body>
</html>
