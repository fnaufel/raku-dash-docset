<!doctype html>
<html lang="en">
<head>
    <title>routine map</title>
    <meta charset="UTF-8"/>
    <meta name=viewport content="width=device-width, initial-scale=1">
    <link rel="icon" href="../favicon.ico" type="image/x-icon" />
    <link rel="stylesheet" type="text/css" href="../css/app.css" media="screen" title="default" />
    <noscript> <style> #search { visibility: hidden; } </style> </noscript>
</head>

<body class="pod">

    <div id="___top"></div>

    <div id="header" class="pretty-box green">

        <a href="../index.html">
            <img src="../images/Camelia.svg" alt="»ö«" id="logo" width="62" height="48"/> &nbsp;Raku Documentation
        </a>

        <div id="search" class="ui-widget">
            <div class="green">
                <input placeholder="Loading..." id="query" accesskey="f" title="Enter term to search for (hit Esc to focus)"/>
            </div>
            <p id="not-found-message">
                Not in Index (<a href="map.html" id="try-web-search">try site search</a>)
            </p>
        </div>

        <div class="menu">

            <div class="menu-items dark-green">
                <a class='menu-item darker-green' href='https://raku.org'><strong>Raku homepage</strong></a>
                    <a class="menu-item " href="../language.html"> Language </a>
                    <a class="menu-item " href="../type.html"> Types </a>
                    <a class="menu-item selected darker-green" href="../routine.html"> Routines </a>
                    <a class="menu-item " href="../programs.html"> Programs </a>
                    <a class="menu-item " href="https://web.libera.chat/?channel=#raku"> Chat with us </a>
            </div>

            <div class="menu-items darker-green"><div class="menu-items darker-green"><div class="menu-items darker-green"><div class="menu-items darker-green"><div class="menu-items darker-green"><div class="menu-items darker-green"><div class="menu-items darker-green">
                    <a class="menu-item" href="../routine.html"> All </a>
                    <a class="menu-item" href="../routine-sub.html"> Sub </a>
                    <a class="menu-item" href="../routine-method.html"> Method </a>
                    <a class="menu-item" href="../routine-term.html"> Term </a>
                    <a class="menu-item" href="../routine-operator.html"> Operator </a>
                    <a class="menu-item" href="../routine-trait.html"> Trait </a>
                    <a class="menu-item" href="../routine-submethod.html"> Submethod </a>
            </div></div></div></div></div></div></div>

        </div>
    </div>

    <div id="content" class="pretty-box yellow content_fragment">

        <div align="right" style="display:none;">
            <button title="Edit this page"  class="pencil" onclick="location=''">
                <svg width="14px" height="16px" viewBox="0 0 14 16" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
                    <defs></defs>
                    <g id="Octicons" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
                        <g id="pencil" fill="#000000">
                            <path d="M0,12 L0,15 L3,15 L11,7 L8,4 L0,12 L0,12 Z M3,14 L1,14 L1,12 L2,12 L2,13 L3,13 L3,14 L3,14 Z M13.3,4.7 L12,6 L9,3 L10.3,1.7 C10.69,1.31 11.32,1.31 11.71,1.7 L13.3,3.29 C13.69,3.68 13.69,4.31 13.3,4.7 L13.3,4.7 Z" id="Shape"></path>
                        </g>
                    </g>
                </svg>
            </button>
        </div>

        <h1 class="title">routine map</h1>
        <p class="subtitle"></p>

        <nav class="indexgroup">
<table id="TOC">
<caption><h2 id="TOC_Title">Table of Contents</h2></caption>
<tr class="toc-level-1"><td class="toc-number">1</td><td class="toc-text"><a href="map.html#class_Any">class Any</a></td></tr>
<tr class="toc-level-2"><td class="toc-number">1.1</td><td class="toc-text"><a href="map.html#(Any)_routine_map">(Any) routine map</a></td></tr>
<tr class="toc-level-1"><td class="toc-number">2</td><td class="toc-text"><a href="map.html#class_Supply">class Supply</a></td></tr>
<tr class="toc-level-2"><td class="toc-number">2.1</td><td class="toc-text"><a href="map.html#(Supply)_method_map">(Supply) method map</a></td></tr>
<tr class="toc-level-1"><td class="toc-number">3</td><td class="toc-text"><a href="map.html#class_RaceSeq">class RaceSeq</a></td></tr>
<tr class="toc-level-2"><td class="toc-number">3.1</td><td class="toc-text"><a href="map.html#(RaceSeq)_method_map">(RaceSeq) method map</a></td></tr>
<tr class="toc-level-1"><td class="toc-number">4</td><td class="toc-text"><a href="map.html#class_List">class List</a></td></tr>
<tr class="toc-level-2"><td class="toc-number">4.1</td><td class="toc-text"><a href="map.html#(List)_routine_map">(List) routine map</a></td></tr>
<tr class="toc-level-1"><td class="toc-number">5</td><td class="toc-text"><a href="map.html#class_HyperSeq">class HyperSeq</a></td></tr>
<tr class="toc-level-2"><td class="toc-number">5.1</td><td class="toc-text"><a href="map.html#(HyperSeq)_method_map">(HyperSeq) method map</a></td></tr>
<tr class="toc-level-1"><td class="toc-number">6</td><td class="toc-text"><a href="map.html#class_Backtrace">class Backtrace</a></td></tr>
<tr class="toc-level-2"><td class="toc-number">6.1</td><td class="toc-text"><a href="map.html#(Backtrace)_method_map">(Backtrace) method map</a></td></tr>

</table>
</nav>

        <div class="pod-body ">
            <p>Documentation for routine <code>map</code> assembled from the following types:</p>
<h1 id="class_Any"><a class="u" href="map.html#___top" title="go to top of document">class Any</a></h1>
<p>From <a href="../type/Any.html#routine_map">Any</a></p>
<h2 id="(Any)_routine_map"><a href="../type/Any.html#routine_map">(Any) routine map</a></h2>
<p>Defined as:</p>
<pre class="editor editor-colors"><div class="line"><span class="source raku"><span class="storage type declarator multi raku"><span>multi</span></span><span>&nbsp;</span><span class="storage type declarator type raku"><span>method</span></span><span>&nbsp;</span><span class="entity name function raku"><span>map</span></span><span>(\</span><span class="routine name raku"><span>SELF</span></span><span class="keyword operator generic raku"><span>:</span></span><span>&nbsp;</span><span class="meta variable container raku"><span class="variable other identifier sigil raku"><span>&amp;</span></span><span class="variable other identifier raku"><span>block</span></span></span><span>;;&nbsp;</span><span class="keyword operator generic raku"><span>:</span></span><span class="meta variable container raku"><span class="variable other identifier sigil raku"><span>$</span></span><span class="variable other identifier raku"><span>label</span></span></span><span>,&nbsp;</span><span class="keyword operator generic raku"><span>:</span></span><span class="meta variable container raku"><span class="variable other identifier sigil raku"><span>$</span></span><span class="variable other identifier raku"><span>item</span></span></span><span>)</span></span></div><div class="line"><span class="source raku"><span class="storage type declarator multi raku"><span>multi</span></span><span>&nbsp;</span><span class="storage type declarator type raku"><span>sub</span></span><span>&nbsp;</span><span class="entity name function raku"><span>map</span></span><span>(</span><span class="meta variable container raku"><span class="variable other identifier sigil raku"><span>&amp;</span></span><span class="variable other identifier raku"><span>code</span></span></span><span>,&nbsp;</span><span class="keyword operator generic raku"><span>+</span></span><span class="support function raku"><span>values</span></span><span>)</span></span></div><div class="line"><span class="source raku"><span class="storage type declarator multi raku"><span>multi</span></span><span>&nbsp;</span><span class="storage type declarator type raku"><span>method</span></span><span>&nbsp;</span><span class="entity name function raku"><span>map</span></span><span>(</span><span class="support type raku"><span>Hash</span></span><span class="meta adverb definedness raku"><span class="keyword operator adverb raku"><span>:</span></span><span class="keyword other special-method definedness raku"><span>D</span></span></span><span>&nbsp;\</span><span class="routine name raku"><span>hash</span></span><span>)</span></span></div><div class="line"><span class="source raku"><span class="storage type declarator multi raku"><span>multi</span></span><span>&nbsp;</span><span class="storage type declarator type raku"><span>method</span></span><span>&nbsp;</span><span class="entity name function raku"><span>map</span></span><span>(</span><span class="support type raku"><span>Iterable</span></span><span class="meta adverb definedness raku"><span class="keyword operator adverb raku"><span>:</span></span><span class="keyword other special-method definedness raku"><span>D</span></span></span><span>&nbsp;\</span><span class="routine name raku"><span>iterable</span></span><span>)</span></span></div><div class="line"><span class="source raku"><span class="storage type declarator multi raku"><span>multi</span></span><span>&nbsp;</span><span class="storage type declarator type raku"><span>method</span></span><span>&nbsp;</span><span class="entity name function raku"><span>map</span></span><span>(</span><span class="keyword operator generic raku"><span>|</span></span><span class="routine name raku"><span>c</span></span><span>)</span></span></div></pre><p><code>map</code> will iterate over the invocant and apply the number of positional parameters of the code object from the invocant per call. The returned values of the code object will become elements of the returned <a href="../type/Seq.html">Seq</a>.</p>
<p>The <code>:$label</code> and <code>:$item</code> are useful only internally, since <code>for</code> loops get converted to <code>map</code>s. The <code>:$label</code> takes an existing <a href="../type/Label.html">Label</a> to label the <code>.map</code>&#39;s loop with and <code>:$item</code> controls whether the iteration will occur over <code>(SELF,)</code> (if <code>:$item</code> is set) or <code>SELF</code>.</p>
<p>In <code>sub</code> form, it will apply the <code>code</code> block to the <code>values</code>, which will be used as invocant.</p>
<p>The forms with <code>|c</code>, <code>Iterable:D \iterable</code> and <code>Hash:D \hash</code> as signatures will fail with <code>X::Cannot::Map</code>, and are mainly meant to catch common traps.</p>
<p>Inside a <code>for</code> statement that has been sunk, a <code>Seq</code> created by a map will also sink:</p>
<pre class="editor editor-colors"><div class="line"><span class="source raku"><span class="support function raku"><span>say</span></span><span>&nbsp;</span><span class="keyword control repeat raku"><span>gather</span></span><span>&nbsp;</span><span class="keyword control repeat raku"><span>for</span></span><span>&nbsp;</span><span class="constant numeric raku"><span>1</span></span><span>&nbsp;</span><span class="meta block raku"><span class="punctuation definition block raku"><span>{</span></span></span></span></div><div class="line"><span class="source raku"><span class="meta block raku"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword operator generic raku"><span>^</span></span><span class="constant numeric raku"><span>3</span></span><span>&nbsp;</span><span class="keyword operator generic raku"><span>.</span></span><span class="support function raku"><span>map</span></span><span class="keyword operator generic raku"><span>:</span></span><span>&nbsp;</span><span class="keyword operator generic raku"><span>*</span><span>.</span></span><span class="routine name raku"><span>take</span></span><span>;</span></span></span></div><div class="line"><span class="source raku"><span class="meta block raku"><span class="punctuation definition block raku"><span>}</span></span></span><span>&nbsp;</span><span class="comment line number-sign raku"><span class="punctuation definition comment raku"><span>#</span></span><span>&nbsp;OUTPUT:&nbsp;«(0&nbsp;1&nbsp;2)␤»</span><span>&nbsp;</span></span></span></div></pre><p>In this case, <code>gather</code> sinks the <code>for</code> statement, and the result of sinking the <code>Seq</code> will be iterating over its elements, calling <code>.take</code> on them.</p>
<h1 id="class_Supply"><a class="u" href="map.html#___top" title="go to top of document">class Supply</a></h1>
<p>From <a href="../type/Supply.html#method_map">Supply</a></p>
<h2 id="(Supply)_method_map"><a href="../type/Supply.html#method_map">(Supply) method map</a></h2>
<pre class="editor editor-colors"><div class="line"><span class="source raku"><span class="storage type declarator type raku"><span>method</span></span><span>&nbsp;</span><span class="entity name function raku"><span>map</span></span><span>(</span><span class="support type raku"><span>Supply</span></span><span class="meta adverb definedness raku"><span class="keyword operator adverb raku"><span>:</span></span><span class="keyword other special-method definedness raku"><span>D</span></span></span><span class="keyword operator generic raku"><span>:</span></span><span>&nbsp;</span><span class="meta variable container raku"><span class="variable other identifier sigil raku"><span>&amp;</span></span><span class="variable other identifier raku"><span>mapper</span></span></span><span>&nbsp;</span><span class="keyword operator multi-symbol raku"><span>--&gt;</span></span><span>&nbsp;</span><span class="support type raku"><span>Supply</span></span><span class="meta adverb definedness raku"><span class="keyword operator adverb raku"><span>:</span></span><span class="keyword other special-method definedness raku"><span>D</span></span></span><span>)</span></span></div></pre><p>Returns a new supply that maps each value of the given supply through <code>&amp;mapper</code> and emits it to the new supply.</p>
<pre class="editor editor-colors"><div class="line"><span class="source raku"><span class="storage modifier declarator raku"><span>my</span></span><span>&nbsp;</span><span class="meta variable container raku"><span class="variable other identifier sigil raku"><span>$</span></span><span class="variable other identifier raku"><span>supplier</span></span></span><span>&nbsp;</span><span class="storage modifier assignment raku"><span>=</span></span><span>&nbsp;</span><span class="routine name raku"><span>Supplier</span></span><span class="keyword operator generic raku"><span>.</span></span><span class="support function raku"><span>new</span></span><span>;</span></span></div><div class="line"><span class="source raku"><span class="storage modifier declarator raku"><span>my</span></span><span>&nbsp;</span><span class="meta variable container raku"><span class="variable other identifier sigil raku"><span>$</span></span><span class="variable other identifier raku"><span>all</span></span></span><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="storage modifier assignment raku"><span>=</span></span><span>&nbsp;</span><span class="meta variable container raku"><span class="variable other identifier sigil raku"><span>$</span></span><span class="variable other identifier raku"><span>supplier</span></span></span><span class="keyword operator generic raku"><span>.</span></span><span class="support type raku"><span>Supply</span></span><span>;</span></span></div><div class="line"><span class="source raku"><span class="storage modifier declarator raku"><span>my</span></span><span>&nbsp;</span><span class="meta variable container raku"><span class="variable other identifier sigil raku"><span>$</span></span><span class="variable other identifier raku"><span>double</span></span></span><span>&nbsp;&nbsp;&nbsp;</span><span class="storage modifier assignment raku"><span>=</span></span><span>&nbsp;</span><span class="meta variable container raku"><span class="variable other identifier sigil raku"><span>$</span></span><span class="variable other identifier raku"><span>all</span></span></span><span class="keyword operator generic raku"><span>.</span></span><span class="support function raku"><span>map</span></span><span>(</span><span class="keyword operator multi-symbol raku"><span>-&gt;</span></span><span>&nbsp;</span><span class="meta variable container raku"><span class="variable other identifier sigil raku"><span>$</span></span><span class="variable other identifier raku"><span>value</span></span></span><span>&nbsp;</span><span class="meta block raku"><span class="punctuation definition block raku"><span>{</span></span><span>&nbsp;</span><span class="meta variable container raku"><span class="variable other identifier sigil raku"><span>$</span></span><span class="variable other identifier raku"><span>value</span></span></span><span>&nbsp;</span><span class="keyword operator generic raku"><span>*</span></span><span>&nbsp;</span><span class="constant numeric raku"><span>2</span></span><span>&nbsp;</span><span class="punctuation definition block raku"><span>}</span></span></span><span>);</span></span></div><div class="line"><span class="source raku"><span class="meta variable container raku"><span class="variable other identifier sigil raku"><span>$</span></span><span class="variable other identifier raku"><span>double</span></span></span><span class="keyword operator generic raku"><span>.</span></span><span class="support function raku"><span>tap</span></span><span>(</span><span class="meta variable container raku"><span class="variable other identifier sigil raku"><span>&amp;</span></span><span class="variable other identifier raku"><span>say</span></span></span><span>);</span></span></div><div class="line"><span class="source raku"><span class="meta variable container raku"><span class="variable other identifier sigil raku"><span>$</span></span><span class="variable other identifier raku"><span>supplier</span></span></span><span class="keyword operator generic raku"><span>.</span></span><span class="support function raku"><span>emit</span></span><span>(</span><span class="constant numeric raku"><span>4</span></span><span>);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="comment line number-sign raku"><span class="punctuation definition comment raku"><span>#</span></span><span>&nbsp;OUTPUT:&nbsp;«8»</span></span></span></div></pre><h1 id="class_RaceSeq"><a class="u" href="map.html#___top" title="go to top of document">class RaceSeq</a></h1>
<p>From <a href="../type/RaceSeq.html#method_map">RaceSeq</a></p>
<h2 id="(RaceSeq)_method_map"><a href="../type/RaceSeq.html#method_map">(RaceSeq) method map</a></h2>
<pre class="editor editor-colors"><div class="line"><span class="source raku"><span class="storage type declarator type raku"><span>method</span></span><span>&nbsp;</span><span class="entity name function raku"><span>map</span></span><span>(</span><span class="routine name raku"><span>RaceSeq</span></span><span class="meta adverb definedness raku"><span class="keyword operator adverb raku"><span>:</span></span><span class="keyword other special-method definedness raku"><span>D</span></span></span><span class="keyword operator generic raku"><span>:</span></span><span>&nbsp;</span><span class="meta variable container raku"><span class="variable other identifier sigil raku"><span>$</span></span><span class="variable other identifier raku"><span>matcher</span></span></span><span>,&nbsp;</span><span class="keyword operator generic raku"><span>*</span></span><span class="meta variable container raku"><span class="variable other identifier sigil raku"><span>%</span></span><span class="variable other identifier raku"><span>options</span></span></span><span>)</span></span></div></pre><p>Uses maps on the <code>RaceSeq</code>, generally created by application of <code>.race</code> to a preexisting <code>Seq</code>.</p>
<h1 id="class_List"><a class="u" href="map.html#___top" title="go to top of document">class List</a></h1>
<p>From <a href="../type/List.html#routine_map">List</a></p>
<h2 id="(List)_routine_map"><a href="../type/List.html#routine_map">(List) routine map</a></h2>
<p>Defined as:</p>
<pre class="editor editor-colors"><div class="line"><span class="source raku"><span class="storage type declarator multi raku"><span>multi</span></span><span>&nbsp;</span><span class="storage type declarator type raku"><span>method</span></span><span>&nbsp;</span><span class="entity name function raku"><span>map</span></span><span>(</span><span class="support type raku"><span>Hash</span></span><span class="meta adverb definedness raku"><span class="keyword operator adverb raku"><span>:</span></span><span class="keyword other special-method definedness raku"><span>D</span></span></span><span>&nbsp;\</span><span class="routine name raku"><span>hash</span></span><span>)</span></span></div><div class="line"><span class="source raku"><span class="storage type declarator multi raku"><span>multi</span></span><span>&nbsp;</span><span class="storage type declarator type raku"><span>method</span></span><span>&nbsp;</span><span class="entity name function raku"><span>map</span></span><span>(</span><span class="support type raku"><span>Iterable</span></span><span class="meta adverb definedness raku"><span class="keyword operator adverb raku"><span>:</span></span><span class="keyword other special-method definedness raku"><span>D</span></span></span><span>&nbsp;\</span><span class="routine name raku"><span>iterable</span></span><span>)</span></span></div><div class="line"><span class="source raku"><span class="storage type declarator multi raku"><span>multi</span></span><span>&nbsp;</span><span class="storage type declarator type raku"><span>method</span></span><span>&nbsp;</span><span class="entity name function raku"><span>map</span></span><span>(</span><span class="keyword operator generic raku"><span>|</span></span><span class="routine name raku"><span>c</span></span><span>)</span></span></div><div class="line"><span class="source raku"><span class="storage type declarator multi raku"><span>multi</span></span><span>&nbsp;</span><span class="storage type declarator type raku"><span>method</span></span><span>&nbsp;</span><span class="entity name function raku"><span>map</span></span><span>(\</span><span class="routine name raku"><span>SELF</span></span><span class="keyword operator generic raku"><span>:</span></span><span>&nbsp;</span><span class="meta variable container raku"><span class="variable other identifier sigil raku"><span>&amp;</span></span><span class="variable other identifier raku"><span>block</span></span></span><span>;;&nbsp;</span><span class="keyword operator generic raku"><span>:</span></span><span class="meta variable container raku"><span class="variable other identifier sigil raku"><span>$</span></span><span class="variable other identifier raku"><span>label</span></span></span><span>,&nbsp;</span><span class="keyword operator generic raku"><span>:</span></span><span class="meta variable container raku"><span class="variable other identifier sigil raku"><span>$</span></span><span class="variable other identifier raku"><span>item</span></span></span><span>)</span></span></div><div class="line"><span class="source raku"><span class="storage type declarator multi raku"><span>multi</span></span><span>&nbsp;</span><span class="storage type declarator type raku"><span>sub</span></span><span>&nbsp;</span><span class="entity name function raku"><span>map</span></span><span>(</span><span class="meta variable container raku"><span class="variable other identifier sigil raku"><span>&amp;</span></span><span class="variable other identifier raku"><span>code</span></span></span><span>,&nbsp;</span><span class="keyword operator generic raku"><span>+</span></span><span class="support function raku"><span>values</span></span><span>)</span></span></div></pre><p>Examples applied to lists are included here for the purpose of illustration.</p>
<p>For a list, it invokes <code>&amp;code</code> for each element and gathers the return values in a sequence and returns it. This happens lazily, i.e. <code>&amp;code</code> is only invoked when the return values are accessed.Examples:</p>
<pre class="editor editor-colors"><div class="line"><span class="source raku"><span class="support function raku"><span>say</span></span><span>&nbsp;(</span><span class="string quoted single single raku"><span class="punctuation definition string begin raku"><span>&#39;</span></span><span>hello</span><span class="punctuation definition string end raku"><span>&#39;</span></span></span><span>,&nbsp;</span><span class="constant numeric raku"><span>1</span></span><span>,&nbsp;</span><span class="constant numeric raku"><span>22</span></span><span class="keyword operator generic raku"><span>/</span></span><span class="constant numeric raku"><span>7</span></span><span>,&nbsp;</span><span class="constant numeric raku"><span>42</span></span><span>,&nbsp;</span><span class="string quoted single single raku"><span class="punctuation definition string begin raku"><span>&#39;</span></span><span>world</span><span class="punctuation definition string end raku"><span>&#39;</span></span></span><span>)</span><span class="keyword operator generic raku"><span>.</span></span><span class="support function raku"><span>map</span></span><span class="keyword operator generic raku"><span>:</span></span><span>&nbsp;</span><span class="meta block raku"><span class="punctuation definition block raku"><span>{</span></span><span>&nbsp;</span><span class="keyword operator generic raku"><span>.</span><span>^</span></span><span class="support function raku"><span>name</span></span><span>&nbsp;</span><span class="punctuation definition block raku"><span>}</span></span></span><span>&nbsp;</span><span class="comment line number-sign raku"><span class="punctuation definition comment raku"><span>#</span></span><span>&nbsp;OUTPUT:&nbsp;«(Str&nbsp;Int&nbsp;Rat&nbsp;Int&nbsp;Str)␤»</span><span>&nbsp;</span></span></span></div><div class="line"><span class="source raku"><span class="support function raku"><span>say</span></span><span>&nbsp;</span><span class="support function raku"><span>map</span></span><span>&nbsp;</span><span class="keyword operator generic raku"><span>*</span><span>.</span></span><span class="support type raku"><span>Str</span></span><span class="keyword operator generic raku"><span>.</span></span><span class="support function raku"><span>chars</span></span><span>,&nbsp;</span><span class="string quoted single single raku"><span class="punctuation definition string begin raku"><span>&#39;</span></span><span>hello</span><span class="punctuation definition string end raku"><span>&#39;</span></span></span><span>,&nbsp;</span><span class="constant numeric raku"><span>1</span></span><span>,&nbsp;</span><span class="constant numeric raku"><span>22</span></span><span class="keyword operator generic raku"><span>/</span></span><span class="constant numeric raku"><span>7</span></span><span>,&nbsp;</span><span class="constant numeric raku"><span>42</span></span><span>,&nbsp;</span><span class="string quoted single single raku"><span class="punctuation definition string begin raku"><span>&#39;</span></span><span>world</span><span class="punctuation definition string end raku"><span>&#39;</span></span></span><span>;&nbsp;</span><span class="comment line number-sign raku"><span class="punctuation definition comment raku"><span>#</span></span><span>&nbsp;OUTPUT:&nbsp;«(5&nbsp;1&nbsp;8&nbsp;2&nbsp;5)␤»</span><span>&nbsp;</span></span></span></div></pre><p><code>map</code> inspects the arity of the code object, and tries to pass as many arguments to it as expected:</p>
<pre class="editor editor-colors"><div class="line"><span class="source raku"><span class="storage type declarator type raku"><span>sub</span></span><span>&nbsp;</span><span class="entity name function raku"><span>b</span></span><span>(</span><span class="meta variable container raku"><span class="variable other identifier sigil raku"><span>$</span></span><span class="variable other identifier raku"><span>a</span></span></span><span>,&nbsp;</span><span class="meta variable container raku"><span class="variable other identifier sigil raku"><span>$</span></span><span class="variable other identifier raku"><span>b</span></span></span><span>)&nbsp;</span><span class="meta block raku"><span class="punctuation definition block raku"><span>{</span></span><span>&nbsp;</span><span class="string quoted double raku"><span class="punctuation definition string begin raku"><span>&quot;</span></span><span class="variable other identifier interpolated raku"><span class="variable other identifier sigil raku"><span>$</span></span><span>a</span></span><span>&nbsp;before&nbsp;</span><span class="variable other identifier interpolated raku"><span class="variable other identifier sigil raku"><span>$</span></span><span>b</span></span><span class="punctuation definition string end raku"><span>&quot;</span></span></span><span>&nbsp;</span><span class="punctuation definition block raku"><span>}</span></span></span><span>;</span></span></div><div class="line"><span class="source raku"><span class="support function raku"><span>say</span></span><span>&nbsp;</span><span class="span keyword operator array words raku"><span>&lt;</span></span><span class="string array words raku"><span>a&nbsp;b&nbsp;x&nbsp;y</span></span><span class="span keyword operator array words raku"><span>&gt;</span></span><span class="keyword operator generic raku"><span>.</span></span><span class="support function raku"><span>map</span></span><span>(</span><span class="meta variable container raku"><span class="variable other identifier sigil raku"><span>&amp;</span></span><span class="variable other identifier raku"><span>b</span></span></span><span>)</span><span class="keyword operator generic raku"><span>.</span></span><span class="support function raku"><span>join</span></span><span>(</span><span class="string quoted single single raku"><span class="punctuation definition string begin raku"><span>&#39;</span></span><span>,&nbsp;</span><span class="punctuation definition string end raku"><span>&#39;</span></span></span><span>);&nbsp;&nbsp;&nbsp;</span><span class="comment line number-sign raku"><span class="punctuation definition comment raku"><span>#</span></span><span>&nbsp;OUTPUT:&nbsp;«a&nbsp;before&nbsp;b,&nbsp;x&nbsp;before&nbsp;y␤»</span></span></span></div></pre><p>iterates the list two items at a time.</p>
<p>Note that <code>map</code> does not flatten embedded lists and arrays, so</p>
<pre class="editor editor-colors"><div class="line"><span class="source raku"><span>((</span><span class="constant numeric raku"><span>1</span></span><span>,&nbsp;</span><span class="constant numeric raku"><span>2</span></span><span>),</span><span>&nbsp;</span><span class="span keyword operator array words raku"><span>&lt;</span></span><span class="string array words raku"><span>a&nbsp;b</span></span><span class="span keyword operator array words raku"><span>&gt;</span></span><span>)</span><span class="keyword operator generic raku"><span>.</span></span><span class="support function raku"><span>map</span></span><span>(</span><span class="meta block raku"><span class="punctuation definition block raku"><span>{</span></span><span>&nbsp;</span><span class="keyword operator generic raku"><span>.</span></span><span class="support function raku"><span>join</span></span><span>(</span><span class="string quoted single single raku"><span class="punctuation definition string begin raku"><span>&#39;</span></span><span>,</span><span class="punctuation definition string end raku"><span>&#39;</span></span></span><span>)</span><span class="punctuation definition block raku"><span>}</span></span></span><span>)</span></span></div></pre><p>passes <code>(1, 2)</code> and <code>&lt;a b&gt; </code> in turn to the block, leading to a total of two iterations and the result sequence <code>&quot;1,2&quot;, &quot;a,b&quot;</code>. See <a href="../type/List.html#method_flatmap">method flatmap</a> for an alternative that flattens.</p>
<p>If <code>&amp;code</code> is a <a href="../type/Block.html">Block</a> loop phasers will be executed and loop control statements will be treated as in loop control flow. Please note that <code>return</code> is executed in the context of its definition. It is not the return statement of the block but the surrounding Routine. Using a <a href="../type/Routine.html">Routine</a> will also handle loop control statements and loop phasers. Any <code>Routine</code> specific control statement or phaser will be handled in the context of that <code>Routine</code>.</p>
<pre class="editor editor-colors"><div class="line"><span class="source raku"><span class="storage type declarator type raku"><span>sub</span></span><span>&nbsp;</span><span class="entity name function raku"><span>s</span></span><span>&nbsp;</span><span class="meta block raku"><span class="punctuation definition block raku"><span>{</span></span></span></span></div><div class="line"><span class="source raku"><span class="meta block raku"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="storage modifier declarator raku"><span>my</span></span><span>&nbsp;</span><span class="meta variable container raku"><span class="variable other identifier sigil raku"><span>&amp;</span></span><span class="variable other identifier raku"><span>loop-block</span></span></span><span>&nbsp;</span><span class="storage modifier assignment raku"><span>=</span></span><span>&nbsp;</span><span class="meta block raku"><span class="punctuation definition block raku"><span>{</span></span></span></span></span></div><div class="line"><span class="source raku"><span class="meta block raku"><span class="meta block raku"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword control flowcontrol raku"><span>return</span></span><span>&nbsp;</span><span class="comment line number-sign raku"><span class="punctuation definition comment raku"><span>#</span></span><span>&nbsp;return&nbsp;from&nbsp;sub&nbsp;s</span><span>&nbsp;</span></span></span></span></span></div><div class="line"><span class="source raku"><span class="meta block raku"><span class="meta block raku"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="punctuation definition block raku"><span>}</span></span></span><span>;</span></span></span></div><div class="line"><span class="source raku"><span class="meta block raku"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="support function raku"><span>say</span></span><span>&nbsp;</span><span class="string quoted single single raku"><span class="punctuation definition string begin raku"><span>&#39;</span></span><span>hi</span><span class="punctuation definition string end raku"><span>&#39;</span></span></span><span>;</span></span></span></div><div class="line"><span class="source raku"><span class="meta block raku"><span>&nbsp;&nbsp;&nbsp;&nbsp;(</span><span class="constant numeric raku"><span>1</span></span><span class="keyword operator multi-symbol raku"><span>..</span></span><span class="constant numeric raku"><span>3</span></span><span>)</span><span class="keyword operator generic raku"><span>.</span></span><span class="support function raku"><span>map</span></span><span class="keyword operator generic raku"><span>:</span></span><span>&nbsp;</span><span class="meta variable container raku"><span class="variable other identifier sigil raku"><span>&amp;</span></span><span class="variable other identifier raku"><span>loop-block</span></span></span><span>;</span></span></span></div><div class="line"><span class="source raku"><span class="meta block raku"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="support function raku"><span>say</span></span><span>&nbsp;</span><span class="string quoted single single raku"><span class="punctuation definition string begin raku"><span>&#39;</span></span><span>oi‽</span><span class="punctuation definition string end raku"><span>&#39;</span></span></span><span>&nbsp;</span><span class="comment line number-sign raku"><span class="punctuation definition comment raku"><span>#</span></span><span>&nbsp;dead&nbsp;code</span><span>&nbsp;</span></span></span></span></div><div class="line"><span class="source raku"><span class="meta block raku"><span class="punctuation definition block raku"><span>}</span></span></span><span>;</span></span></div><div class="line"><span class="source raku"><span class="string regexp construct any raku"><span>s</span></span><span class="punctuation definition regexp any raku"><span>&nbsp;</span></span></span></div><div class="line"><span class="source raku"><span class="comment line number-sign raku"><span class="punctuation definition comment raku"><span>#</span></span><span>&nbsp;OUTPUT:&nbsp;«hi␤»</span></span></span></div></pre><h1 id="class_HyperSeq"><a class="u" href="map.html#___top" title="go to top of document">class HyperSeq</a></h1>
<p>From <a href="../type/HyperSeq.html#method_map">HyperSeq</a></p>
<h2 id="(HyperSeq)_method_map"><a href="../type/HyperSeq.html#method_map">(HyperSeq) method map</a></h2>
<pre class="editor editor-colors"><div class="line"><span class="source raku"><span class="storage type declarator type raku"><span>method</span></span><span>&nbsp;</span><span class="entity name function raku"><span>map</span></span><span>(</span><span class="routine name raku"><span>HyperSeq</span></span><span class="meta adverb definedness raku"><span class="keyword operator adverb raku"><span>:</span></span><span class="keyword other special-method definedness raku"><span>D</span></span></span><span class="keyword operator generic raku"><span>:</span></span><span>&nbsp;</span><span class="meta variable container raku"><span class="variable other identifier sigil raku"><span>$</span></span><span class="variable other identifier raku"><span>matcher</span></span></span><span>,&nbsp;</span><span class="keyword operator generic raku"><span>*</span></span><span class="meta variable container raku"><span class="variable other identifier sigil raku"><span>%</span></span><span class="variable other identifier raku"><span>options</span></span></span><span>)</span></span></div></pre><p>Uses maps on the <code>HyperSeq</code>, generally created by application of <code>hyper</code> to a preexisting <code>Seq</code>.</p>
<h1 id="class_Backtrace"><a class="u" href="map.html#___top" title="go to top of document">class Backtrace</a></h1>
<p>From <a href="../type/Backtrace.html#method_map">Backtrace</a></p>
<h2 id="(Backtrace)_method_map"><a href="../type/Backtrace.html#method_map">(Backtrace) method map</a></h2>
<p>Defined as:</p>
<pre class="editor editor-colors"><div class="line"><span class="source raku"><span class="storage type declarator multi raku"><span>multi</span></span><span>&nbsp;</span><span class="storage type declarator type raku"><span>method</span></span><span>&nbsp;</span><span class="entity name function raku"><span>map</span></span><span>(</span><span class="support type exception raku"><span>Backtrace</span></span><span class="meta adverb definedness raku"><span class="keyword operator adverb raku"><span>:</span></span><span class="keyword other special-method definedness raku"><span>D</span></span></span><span class="keyword operator generic raku"><span>:</span></span><span>&nbsp;</span><span class="meta variable container raku"><span class="variable other identifier sigil raku"><span>&amp;</span></span><span class="variable other identifier raku"><span>block</span></span></span><span>&nbsp;</span><span class="keyword operator multi-symbol raku"><span>--&gt;</span></span><span>&nbsp;</span><span class="support type raku"><span>Seq</span></span><span class="meta adverb definedness raku"><span class="keyword operator adverb raku"><span>:</span></span><span class="keyword other special-method definedness raku"><span>D</span></span></span><span>)</span></span></div></pre><p>It invokes <code>&amp;block</code> for each element and gathers the return values in a sequence and returns it.</p>
<p>This program:</p>
<pre class="editor editor-colors"><div class="line"><span class="source raku"><span class="storage type declarator type raku"><span>sub</span></span><span>&nbsp;</span><span class="entity name function raku"><span>inner</span></span><span>&nbsp;</span><span class="meta block raku"><span class="punctuation definition block raku"><span>{</span></span><span>&nbsp;</span><span class="support type exception raku"><span>Backtrace</span></span><span class="keyword operator generic raku"><span>.</span></span><span class="support function raku"><span>new</span></span><span class="keyword operator generic raku"><span>.</span></span><span class="support function raku"><span>map</span></span><span>(</span><span class="meta block raku"><span class="punctuation definition block raku"><span>{</span></span><span>&nbsp;</span><span class="support function raku"><span>say</span></span><span>&nbsp;</span><span class="string quoted double raku"><span class="punctuation definition string begin raku"><span>&quot;</span></span><span class="meta interpolation raku"><span class="punctuation section embedded begin raku"><span>{</span></span><span class="meta variable container raku"><span class="variable other identifier sigil raku"><span>$</span></span><span class="variable other identifier raku"><span>_</span></span></span><span class="keyword operator generic raku"><span>.</span></span><span class="routine name raku"><span>file</span></span><span class="punctuation section embedded end raku"><span>}</span></span></span><span>:&nbsp;</span><span class="meta interpolation raku"><span class="punctuation section embedded begin raku"><span>{</span></span><span class="meta variable container raku"><span class="variable other identifier sigil raku"><span>$</span></span><span class="variable other identifier raku"><span>_</span></span></span><span class="keyword operator generic raku"><span>.</span></span><span class="routine name raku"><span>line</span></span><span class="punctuation section embedded end raku"><span>}</span></span></span><span class="punctuation definition string end raku"><span>&quot;</span></span></span><span>&nbsp;</span><span class="punctuation definition block raku"><span>}</span></span></span><span>);&nbsp;</span><span class="punctuation definition block raku"><span>}</span></span></span></span></div><div class="line"><span class="source raku"><span class="storage type declarator type raku"><span>sub</span></span><span>&nbsp;</span><span class="entity name function raku"><span>outer</span></span><span>&nbsp;</span><span class="meta block raku"><span class="punctuation definition block raku"><span>{</span></span><span>&nbsp;</span><span class="routine name raku"><span>inner</span></span><span>;&nbsp;</span><span class="punctuation definition block raku"><span>}</span></span></span></span></div><div class="line"><span class="source raku"><span class="routine name raku"><span>outer</span></span><span>;</span></span></div></pre><p>results in:</p>
<pre class="editor editor-colors"><div class="line"><span class="source raku"><span class="routine name raku"><span>SETTING</span></span><span>::</span><span class="routine name raku"><span>src</span></span><span class="keyword operator generic raku"><span>/</span></span><span class="routine name raku"><span>core</span></span><span class="keyword operator generic raku"><span>.</span></span><span class="routine name raku"><span>c</span></span><span class="keyword operator generic raku"><span>/</span></span><span class="support type exception raku"><span>Backtrace</span></span><span class="keyword operator generic raku"><span>.</span></span><span class="routine name raku"><span>pm6</span></span><span class="keyword operator generic raku"><span>:</span></span><span>&nbsp;</span><span class="constant numeric raku"><span>85</span></span></span></div><div class="line"><span class="source raku"><span class="routine name raku"><span>SETTING</span></span><span>::</span><span class="routine name raku"><span>src</span></span><span class="keyword operator generic raku"><span>/</span></span><span class="routine name raku"><span>core</span></span><span class="keyword operator generic raku"><span>.</span></span><span class="routine name raku"><span>c</span></span><span class="keyword operator generic raku"><span>/</span></span><span class="support type exception raku"><span>Backtrace</span></span><span class="keyword operator generic raku"><span>.</span></span><span class="routine name raku"><span>pm6</span></span><span class="keyword operator generic raku"><span>:</span></span><span>&nbsp;</span><span class="constant numeric raku"><span>85</span></span></span></div><div class="line"><span class="source raku"><span class="routine name raku"><span>test</span></span><span class="keyword operator generic raku"><span>.</span></span><span class="routine name raku"><span>p6</span></span><span class="keyword operator generic raku"><span>:</span></span><span>&nbsp;</span><span class="constant numeric raku"><span>1</span></span></span></div><div class="line"><span class="source raku"><span class="routine name raku"><span>test</span></span><span class="keyword operator generic raku"><span>.</span></span><span class="routine name raku"><span>p6</span></span><span class="keyword operator generic raku"><span>:</span></span><span>&nbsp;</span><span class="constant numeric raku"><span>2</span></span></span></div><div class="line"><span class="source raku"><span class="routine name raku"><span>test</span></span><span class="keyword operator generic raku"><span>.</span></span><span class="routine name raku"><span>p6</span></span><span class="keyword operator generic raku"><span>:</span></span><span>&nbsp;</span><span class="constant numeric raku"><span>3</span></span></span></div><div class="line"><span class="source raku"><span class="routine name raku"><span>test</span></span><span class="keyword operator generic raku"><span>.</span></span><span class="routine name raku"><span>p6</span></span><span class="keyword operator generic raku"><span>:</span></span><span>&nbsp;</span><span class="constant numeric raku"><span>1</span></span></span></div></pre>
        </div>
    </div>

    

    <footer class="pretty-box yellow">
        <p style="display:none;">
            Generated from <a href="https://github.com/Raku/doc/edit/master/doc//">https://github.com/Raku/doc/edit/master/doc//</a>.
        </p>
        <p>
            This is a work in progress to document Raku (formerly known as Perl 6), and
            known to be incomplete.
        </p>
        <p>
            <a href="https://github.com/Raku/doc/blob/master/CONTRIBUTING.md#reporting-bugs">
                Please report any issues
            </a>
            Your contribution is appreciated.
        </p>
        <p>
            This documentation is provided under the terms of the
            <a href="https://raw.githubusercontent.com/Raku/doc/master/LICENSE">
                Artistic License 2.0
            </a>. The Camelia image is
            <a href="https://raw.githubusercontent.com/Raku/mu/master/misc/camelia.txt">
                copyright © 2009 by Larry Wall.
            </a>
            <!-- CREDITS -->
            <!--External Link Image by Zapyon, CCA-SA 4.0. Derived from Wikimedia Foundation https://commons.wikimedia.org/wiki/File:External-link-04-bold-12x12.svg -->
        </p>
    </footer>

    <script type="text/javascript" src="../js/app.js%3Fv=1"></script>
    <script type="text/javascript" src="../js/search.js%3Fv=3"></script>
</body>
</html>
