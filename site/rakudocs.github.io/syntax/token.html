<!doctype html>
<html lang="en">
<head>
    <title>syntax token</title>
    <meta charset="UTF-8"/>
    <meta name=viewport content="width=device-width, initial-scale=1">
    <link rel="icon" href="../favicon.ico" type="image/x-icon" />
    <link rel="stylesheet" type="text/css" href="../css/app.css" media="screen" title="default" />
    <noscript> <style> #search { visibility: hidden; } </style> </noscript>
</head>

<body class="pod">

    <div id="___top"></div>

    <div id="header" class="pretty-box green">

        <a href="../index.html">
            <img src="../images/Camelia.svg" alt="»ö«" id="logo" width="62" height="48"/> &nbsp;Raku Documentation
        </a>

        <div id="search" class="ui-widget">
            <div class="green">
                <input placeholder="Loading..." id="query" accesskey="f" title="Enter term to search for (hit Esc to focus)"/>
            </div>
            <p id="not-found-message">
                Not in Index (<a href="token.html" id="try-web-search">try site search</a>)
            </p>
        </div>

        <div class="menu">

            <div class="menu-items dark-green">
                <a class='menu-item darker-green' href='https://raku.org'><strong>Raku homepage</strong></a>
                    <a class="menu-item " href="../language.html"> Language </a>
                    <a class="menu-item " href="../type.html"> Types </a>
                    <a class="menu-item " href="../routine.html"> Routines </a>
                    <a class="menu-item " href="../programs.html"> Programs </a>
                    <a class="menu-item " href="https://web.libera.chat/?channel=#raku"> Chat with us </a>
            </div>

            
            

        </div>
    </div>

    <div id="content" class="pretty-box yellow content_fragment">

        <div align="right" style="display:none;">
            <button title="Edit this page"  class="pencil" onclick="location=''">
                <svg width="14px" height="16px" viewBox="0 0 14 16" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
                    <defs></defs>
                    <g id="Octicons" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
                        <g id="pencil" fill="#000000">
                            <path d="M0,12 L0,15 L3,15 L11,7 L8,4 L0,12 L0,12 Z M3,14 L1,14 L1,12 L2,12 L2,13 L3,13 L3,14 L3,14 Z M13.3,4.7 L12,6 L9,3 L10.3,1.7 C10.69,1.31 11.32,1.31 11.71,1.7 L13.3,3.29 C13.69,3.68 13.69,4.31 13.3,4.7 L13.3,4.7 Z" id="Shape"></path>
                        </g>
                    </g>
                </svg>
            </button>
        </div>

        <h1 class="title">syntax token</h1>
        <p class="subtitle"></p>

        <nav class="indexgroup">
<table id="TOC">
<caption><h2 id="TOC_Title">Table of Contents</h2></caption>
<tr class="toc-level-1"><td class="toc-number">1</td><td class="toc-text"><a href="token.html#language_documentation_Grammars">language documentation Grammars</a></td></tr>
<tr class="toc-level-2"><td class="toc-number">1.1</td><td class="toc-text"><a href="token.html#(Grammars)_declarator_token_token">(Grammars) declarator token token</a></td></tr>
<tr class="toc-level-2"><td class="toc-number">1.2</td><td class="toc-text"><a href="token.html#Rules">Rules</a></td></tr>

</table>
</nav>

        <div class="pod-body ">
            <p>Documentation for syntax <code>token</code> assembled from the following types:</p>
<h1 id="language_documentation_Grammars"><a class="u" href="token.html#___top" title="go to top of document">language documentation Grammars</a></h1>
<p>From <a href="../language/grammars.html#Named_Regexes">Grammars</a></p>
<h2 id="(Grammars)_declarator_token_token"><a href="../language/grammars.html#Named_Regexes">(Grammars) declarator token token</a></h2>
<p>The main ingredient of grammars is named <a href="https://rakudocs.github.io/language/regexes">regexes</a>. While the syntax of <a href="https://rakudocs.github.io/language/regexes">Raku Regexes</a> is outside the scope of this document, <em>named</em> regexes have a special syntax, similar to subroutine definitions: <a href="token.html#fn-1" id="fn-ref-1">[1]</a></p>
<pre class="editor editor-colors"><div class="line"><span class="source raku"><span class="storage modifier declarator raku"><span>my</span></span><span>&nbsp;</span><span class="meta regexp named raku"><span class="storage type declare regexp named raku"><span>regex</span></span><span>&nbsp;</span><span class="entity name function regexp named raku"><span>number</span></span><span>&nbsp;</span><span class="meta regexp named block raku"><span class="punctuation definition regex named raku"><span>{</span></span><span>&nbsp;</span><span class="constant character escape class regexp raku"><span>\d</span></span><span class="keyword operator quantifiers regexp raku"><span>+</span></span><span>&nbsp;[&nbsp;\</span><span class="keyword operator quantifiers regexp raku"><span>.</span></span><span>&nbsp;</span><span class="constant character escape class regexp raku"><span>\d</span></span><span class="keyword operator quantifiers regexp raku"><span>+</span></span><span>&nbsp;]</span><span class="keyword operator quantifiers regexp raku"><span>?</span></span><span>&nbsp;</span></span><span class="punctuation definition regexp named raku"><span>}</span></span></span></span></div></pre><p>In this case, we have to specify that the regex is lexically scoped using the <code>my</code> keyword, because named regexes are normally used within grammars.</p>
<p>Being named gives us the advantage of being able to easily reuse the regex elsewhere:</p>
<pre class="editor editor-colors"><div class="line"><span class="source raku"><span class="support function raku"><span>say</span></span><span>&nbsp;</span><span class="keyword operator word raku"><span>so</span></span><span>&nbsp;</span><span class="string quoted double raku"><span class="punctuation definition string begin raku"><span>&quot;</span></span><span>32.51</span><span class="punctuation definition string end raku"><span>&quot;</span></span></span><span>&nbsp;</span><span class="keyword operator multi-symbol raku"><span>~~</span></span><span>&nbsp;</span><span class="meta variable container raku"><span class="variable other identifier sigil raku"><span>&amp;</span></span><span class="variable other identifier raku"><span>number</span></span></span><span>;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="comment line number-sign raku"><span class="punctuation definition comment raku"><span>#</span></span><span>&nbsp;OUTPUT:&nbsp;«True␤»</span><span>&nbsp;</span></span></span></div><div class="line"><span class="source raku"><span class="support function raku"><span>say</span></span><span>&nbsp;</span><span class="keyword operator word raku"><span>so</span></span><span>&nbsp;</span><span class="string quoted double raku"><span class="punctuation definition string begin raku"><span>&quot;</span></span><span>15&nbsp;+&nbsp;4.5</span><span class="punctuation definition string end raku"><span>&quot;</span></span></span><span>&nbsp;</span><span class="keyword operator multi-symbol raku"><span>~~</span></span><span>&nbsp;</span><span class="punctuation definition regexp raku"><span>/</span></span><span class="string regexp raku"><span class="meta property regexp raku"><span class="punctuation delimiter property regexp raku"><span>&lt;</span></span><span class="variable other identifier regexname raku"><span>number</span></span><span class="punctuation delimiter property regexp raku"><span>&gt;</span></span></span><span class="constant character escape class regexp raku"><span>\s</span></span><span class="keyword operator quantifiers regexp raku"><span>*</span></span><span>&nbsp;</span><span class="string literal raku"><span>&#39;</span><span>+</span><span>&#39;</span></span><span>&nbsp;</span><span class="constant character escape class regexp raku"><span>\s</span></span><span class="keyword operator quantifiers regexp raku"><span>*</span></span><span class="meta property regexp raku"><span class="punctuation delimiter property regexp raku"><span>&lt;</span></span><span class="variable other identifier regexname raku"><span>number</span></span><span class="punctuation delimiter property regexp raku"><span>&gt;</span></span></span></span><span class="punctuation definition regexp raku"><span>/</span></span><span>&nbsp;</span><span class="comment line number-sign raku"><span class="punctuation definition comment raku"><span>#</span></span><span>&nbsp;OUTPUT:&nbsp;«True␤»</span><span>&nbsp;</span></span></span></div></pre><p><strong><code>regex</code></strong> isn&#39;t the only declarator for named regexes. In fact, it&#39;s the least common. Most of the time, the <strong><code>token</code></strong> or <strong><code>rule</code></strong> declarators are used. These are both <em>ratcheting</em>, which means that the match engine won&#39;t back up and try again if it fails to match something. This will usually do what you want, but isn&#39;t appropriate for all cases:</p>
<pre class="editor editor-colors"><div class="line"><span class="source raku"><span class="storage modifier declarator raku"><span>my</span></span><span>&nbsp;</span><span class="meta regexp named raku"><span class="storage type declare regexp named raku"><span>regex</span></span><span>&nbsp;</span><span class="entity name function regexp named raku"><span>works-but-slow</span></span><span>&nbsp;</span><span class="meta regexp named block raku"><span class="punctuation definition regex named raku"><span>{</span></span><span>&nbsp;</span><span class="keyword operator quantifiers regexp raku"><span>.</span><span>+</span></span><span>&nbsp;q&nbsp;</span></span><span class="punctuation definition regexp named raku"><span>}</span></span></span></span></div><div class="line"><span class="source raku"><span class="storage modifier declarator raku"><span>my</span></span><span>&nbsp;</span><span class="meta regexp named raku"><span class="storage type declare regexp named raku"><span>token</span></span><span>&nbsp;</span><span class="entity name function regexp named raku"><span>fails-but-fast</span></span><span>&nbsp;</span><span class="meta regexp named block raku"><span class="punctuation definition regex named raku"><span>{</span></span><span>&nbsp;</span><span class="keyword operator quantifiers regexp raku"><span>.</span><span>+</span></span><span>&nbsp;q&nbsp;</span></span><span class="punctuation definition regexp named raku"><span>}</span></span></span></span></div><div class="line"><span class="source raku"><span class="storage modifier declarator raku"><span>my</span></span><span>&nbsp;</span><span class="meta variable container raku"><span class="variable other identifier sigil raku"><span>$</span></span><span class="variable other identifier raku"><span>s</span></span></span><span>&nbsp;</span><span class="storage modifier assignment raku"><span>=</span></span><span>&nbsp;</span><span class="string quoted single single raku"><span class="punctuation definition string begin raku"><span>&#39;</span></span><span>Tokens&nbsp;won</span><span class="constant character escape raku"><span>\&#39;</span></span><span>t&nbsp;backtrack,&nbsp;which&nbsp;makes&nbsp;them&nbsp;fail&nbsp;quicker!</span><span class="punctuation definition string end raku"><span>&#39;</span></span></span><span>;</span></span></div><div class="line"><span class="source raku"><span class="support function raku"><span>say</span></span><span>&nbsp;</span><span class="keyword operator word raku"><span>so</span></span><span>&nbsp;</span><span class="meta variable container raku"><span class="variable other identifier sigil raku"><span>$</span></span><span class="variable other identifier raku"><span>s</span></span></span><span>&nbsp;</span><span class="keyword operator multi-symbol raku"><span>~~</span></span><span>&nbsp;</span><span class="meta variable container raku"><span class="variable other identifier sigil raku"><span>&amp;</span></span><span class="variable other identifier raku"><span>works-but-slow</span></span></span><span>;&nbsp;</span><span class="comment line number-sign raku"><span class="punctuation definition comment raku"><span>#</span></span><span>&nbsp;OUTPUT:&nbsp;«True␤»</span><span>&nbsp;</span></span></span></div><div class="line"><span class="source raku"><span class="support function raku"><span>say</span></span><span>&nbsp;</span><span class="keyword operator word raku"><span>so</span></span><span>&nbsp;</span><span class="meta variable container raku"><span class="variable other identifier sigil raku"><span>$</span></span><span class="variable other identifier raku"><span>s</span></span></span><span>&nbsp;</span><span class="keyword operator multi-symbol raku"><span>~~</span></span><span>&nbsp;</span><span class="meta variable container raku"><span class="variable other identifier sigil raku"><span>&amp;</span></span><span class="variable other identifier raku"><span>fails-but-fast</span></span></span><span>;&nbsp;</span><span class="comment line number-sign raku"><span class="punctuation definition comment raku"><span>#</span></span><span>&nbsp;OUTPUT:&nbsp;«False␤»</span><span>&nbsp;</span></span></span></div><div class="line"><span class="source raku"><span class="punctuation whitespace comment leading raku"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span class="comment line number-sign raku"><span class="punctuation definition comment raku"><span>#</span></span><span>&nbsp;the&nbsp;entire&nbsp;string&nbsp;get&nbsp;taken&nbsp;by&nbsp;the&nbsp;.+</span><span>&nbsp;</span></span></span></div></pre><p>Note that non-backtracking works on terms, that is, as the example below, if you have matched something, then you will never backtrack. But when you fail to match, if there is another candidate introduced by <code>|</code> or <code>||</code>, you will retry to match again.</p>
<pre class="editor editor-colors"><div class="line"><span class="source raku"><span class="storage modifier declarator raku"><span>my</span></span><span>&nbsp;</span><span class="meta regexp named raku"><span class="storage type declare regexp named raku"><span>token</span></span><span>&nbsp;</span><span class="entity name function regexp named raku"><span>tok-a</span></span><span>&nbsp;</span><span class="meta regexp named block raku"><span class="punctuation definition regex named raku"><span>{</span></span><span>&nbsp;</span><span class="keyword operator quantifiers regexp raku"><span>.</span><span>*</span></span><span>&nbsp;d&nbsp;&nbsp;</span></span><span class="punctuation definition regexp named raku"><span>}</span></span></span><span>;</span></span></div><div class="line"><span class="source raku"><span class="storage modifier declarator raku"><span>my</span></span><span>&nbsp;</span><span class="meta regexp named raku"><span class="storage type declare regexp named raku"><span>token</span></span><span>&nbsp;</span><span class="entity name function regexp named raku"><span>tok-b</span></span><span>&nbsp;</span><span class="meta regexp named block raku"><span class="punctuation definition regex named raku"><span>{</span></span><span>&nbsp;</span><span class="keyword operator quantifiers regexp raku"><span>.</span><span>*</span></span><span>&nbsp;d&nbsp;</span><span class="support function alternation regexp raku"><span>|</span></span><span>&nbsp;bd&nbsp;</span></span><span class="punctuation definition regexp named raku"><span>}</span></span></span><span>;</span></span></div><div class="line"><span class="source raku"><span class="support function raku"><span>say</span></span><span>&nbsp;</span><span class="keyword operator word raku"><span>so</span></span><span>&nbsp;</span><span class="string quoted double raku"><span class="punctuation definition string begin raku"><span>&quot;</span></span><span>bd</span><span class="punctuation definition string end raku"><span>&quot;</span></span></span><span>&nbsp;</span><span class="keyword operator multi-symbol raku"><span>~~</span></span><span>&nbsp;</span><span class="meta variable container raku"><span class="variable other identifier sigil raku"><span>&amp;</span></span><span class="variable other identifier raku"><span>tok-a</span></span></span><span>;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="comment line number-sign raku"><span class="punctuation definition comment raku"><span>#</span></span><span>&nbsp;OUTPUT:&nbsp;«False␤»</span><span>&nbsp;</span></span></span></div><div class="line"><span class="source raku"><span class="support function raku"><span>say</span></span><span>&nbsp;</span><span class="keyword operator word raku"><span>so</span></span><span>&nbsp;</span><span class="string quoted double raku"><span class="punctuation definition string begin raku"><span>&quot;</span></span><span>bd</span><span class="punctuation definition string end raku"><span>&quot;</span></span></span><span>&nbsp;</span><span class="keyword operator multi-symbol raku"><span>~~</span></span><span>&nbsp;</span><span class="meta variable container raku"><span class="variable other identifier sigil raku"><span>&amp;</span></span><span class="variable other identifier raku"><span>tok-b</span></span></span><span>;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="comment line number-sign raku"><span class="punctuation definition comment raku"><span>#</span></span><span>&nbsp;OUTPUT:&nbsp;«True␤»</span><span>&nbsp;</span></span></span></div></pre><h2 id="Rules"><a class="u" href="token.html#___top" title="go to top of document"><a name="index-entry-declarator_rule-Rules"><span class="index-entry">Rules</span></a></a></h2>
<p>The only difference between the <code>token</code> and <code>rule</code> declarators is that the <code>rule</code> declarator causes <a href="https://rakudocs.github.io/language/regexes#Sigspace"><code>:sigspace</code></a> to go into effect for the Regex:</p>
<pre class="editor editor-colors"><div class="line"><span class="source raku"><span class="storage modifier declarator raku"><span>my</span></span><span>&nbsp;</span><span class="meta regexp named raku"><span class="storage type declare regexp named raku"><span>token</span></span><span>&nbsp;</span><span class="entity name function regexp named raku"><span>token-match</span></span><span>&nbsp;</span><span class="meta regexp named block raku"><span class="punctuation definition regex named raku"><span>{</span></span><span>&nbsp;</span><span class="string literal raku"><span>&#39;</span><span>once</span><span>&#39;</span></span><span>&nbsp;</span><span class="string literal raku"><span>&#39;</span><span>upon</span><span>&#39;</span></span><span>&nbsp;</span><span class="string literal raku"><span>&#39;</span><span>a</span><span>&#39;</span></span><span>&nbsp;</span><span class="string literal raku"><span>&#39;</span><span>time</span><span>&#39;</span></span><span>&nbsp;</span></span><span class="punctuation definition regexp named raku"><span>}</span></span></span></span></div><div class="line"><span class="source raku"><span class="storage modifier declarator raku"><span>my</span></span><span>&nbsp;</span><span class="meta regexp named raku"><span class="storage type declare regexp named raku"><span>rule</span></span><span>&nbsp;&nbsp;</span><span class="entity name function regexp named raku"><span>rule-match</span></span><span>&nbsp;&nbsp;</span><span class="meta regexp named block raku"><span class="punctuation definition regex named raku"><span>{</span></span><span>&nbsp;</span><span class="string literal raku"><span>&#39;</span><span>once</span><span>&#39;</span></span><span>&nbsp;</span><span class="string literal raku"><span>&#39;</span><span>upon</span><span>&#39;</span></span><span>&nbsp;</span><span class="string literal raku"><span>&#39;</span><span>a</span><span>&#39;</span></span><span>&nbsp;</span><span class="string literal raku"><span>&#39;</span><span>time</span><span>&#39;</span></span><span>&nbsp;</span></span><span class="punctuation definition regexp named raku"><span>}</span></span></span></span></div><div class="line"><span class="source raku"><span class="support function raku"><span>say</span></span><span>&nbsp;</span><span class="keyword operator word raku"><span>so</span></span><span>&nbsp;</span><span class="string quoted single single raku"><span class="punctuation definition string begin raku"><span>&#39;</span></span><span>onceuponatime</span><span class="punctuation definition string end raku"><span>&#39;</span></span></span><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword operator multi-symbol raku"><span>~~</span></span><span>&nbsp;</span><span class="meta variable container raku"><span class="variable other identifier sigil raku"><span>&amp;</span></span><span class="variable other identifier raku"><span>token-match</span></span></span><span>;&nbsp;</span><span class="comment line number-sign raku"><span class="punctuation definition comment raku"><span>#</span></span><span>&nbsp;OUTPUT:&nbsp;«True␤»</span><span>&nbsp;</span></span></span></div><div class="line"><span class="source raku"><span class="support function raku"><span>say</span></span><span>&nbsp;</span><span class="keyword operator word raku"><span>so</span></span><span>&nbsp;</span><span class="string quoted single single raku"><span class="punctuation definition string begin raku"><span>&#39;</span></span><span>once&nbsp;upon&nbsp;a&nbsp;time</span><span class="punctuation definition string end raku"><span>&#39;</span></span></span><span>&nbsp;</span><span class="keyword operator multi-symbol raku"><span>~~</span></span><span>&nbsp;</span><span class="meta variable container raku"><span class="variable other identifier sigil raku"><span>&amp;</span></span><span class="variable other identifier raku"><span>token-match</span></span></span><span>;&nbsp;</span><span class="comment line number-sign raku"><span class="punctuation definition comment raku"><span>#</span></span><span>&nbsp;OUTPUT:&nbsp;«False␤»</span><span>&nbsp;</span></span></span></div><div class="line"><span class="source raku"><span class="support function raku"><span>say</span></span><span>&nbsp;</span><span class="keyword operator word raku"><span>so</span></span><span>&nbsp;</span><span class="string quoted single single raku"><span class="punctuation definition string begin raku"><span>&#39;</span></span><span>onceuponatime</span><span class="punctuation definition string end raku"><span>&#39;</span></span></span><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword operator multi-symbol raku"><span>~~</span></span><span>&nbsp;</span><span class="meta variable container raku"><span class="variable other identifier sigil raku"><span>&amp;</span></span><span class="variable other identifier raku"><span>rule-match</span></span></span><span>;&nbsp;&nbsp;</span><span class="comment line number-sign raku"><span class="punctuation definition comment raku"><span>#</span></span><span>&nbsp;OUTPUT:&nbsp;«False␤»</span><span>&nbsp;</span></span></span></div><div class="line"><span class="source raku"><span class="support function raku"><span>say</span></span><span>&nbsp;</span><span class="keyword operator word raku"><span>so</span></span><span>&nbsp;</span><span class="string quoted single single raku"><span class="punctuation definition string begin raku"><span>&#39;</span></span><span>once&nbsp;upon&nbsp;a&nbsp;time</span><span class="punctuation definition string end raku"><span>&#39;</span></span></span><span>&nbsp;</span><span class="keyword operator multi-symbol raku"><span>~~</span></span><span>&nbsp;</span><span class="meta variable container raku"><span class="variable other identifier sigil raku"><span>&amp;</span></span><span class="variable other identifier raku"><span>rule-match</span></span></span><span>;&nbsp;&nbsp;</span><span class="comment line number-sign raku"><span class="punctuation definition comment raku"><span>#</span></span><span>&nbsp;OUTPUT:&nbsp;«True␤»</span><span>&nbsp;</span></span></span></div></pre>
        </div>
    </div>

    <aside><ol start="1">
<li><a href="token.html#fn-ref-1" id="fn-1">[↑]</a> In fact, named regexes can even take extra arguments, using the same syntax as subroutine parameter lists </li>
</ol></aside>

    <footer class="pretty-box yellow">
        <p style="display:none;">
            Generated from <a href="https://github.com/Raku/doc/edit/master/doc//">https://github.com/Raku/doc/edit/master/doc//</a>.
        </p>
        <p>
            This is a work in progress to document Raku (formerly known as Perl 6), and
            known to be incomplete.
        </p>
        <p>
            <a href="https://github.com/Raku/doc/blob/master/CONTRIBUTING.md#reporting-bugs">
                Please report any issues
            </a>
            Your contribution is appreciated.
        </p>
        <p>
            This documentation is provided under the terms of the
            <a href="https://raw.githubusercontent.com/Raku/doc/master/LICENSE">
                Artistic License 2.0
            </a>. The Camelia image is
            <a href="https://raw.githubusercontent.com/Raku/mu/master/misc/camelia.txt">
                copyright © 2009 by Larry Wall.
            </a>
            <!-- CREDITS -->
            <!--External Link Image by Zapyon, CCA-SA 4.0. Derived from Wikimedia Foundation https://commons.wikimedia.org/wiki/File:External-link-04-bold-12x12.svg -->
        </p>
    </footer>

    <script type="text/javascript" src="../js/app.js%3Fv=1"></script>
    <script type="text/javascript" src="../js/search.js%3Fv=3"></script>
</body>
</html>
